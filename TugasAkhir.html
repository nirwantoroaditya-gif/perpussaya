
<!DOCTYPE html>
<html lang="id">
<head>
    <meta charset="UTF-8">
    <title>Perpustakaan SMKN 1 Ketapang</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;600;700&display=swap" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/swiper@11/swiper-bundle.min.css" />
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">

    <style>
        /* ‚ïê‚ïê SPLASH ‚ïê‚ïê */
        #splash { position:fixed;inset:0;z-index:9999;background:linear-gradient(135deg,#0f1b35 0%,#1c2d55 60%,#0f3460 100%);display:flex;flex-direction:column;align-items:center;justify-content:center;transition:opacity .6s ease,visibility .6s ease; }
        #splash.hide { opacity:0;visibility:hidden;pointer-events:none; }
        .splash-logo  { width:100px;height:100px;border-radius:50%;margin-bottom:24px;animation:splashPulse 1.5s ease-in-out infinite;object-fit:contain; }
        .splash-title { color:#fff;font-size:1.4rem;font-weight:700;margin-bottom:6px; }
        .splash-sub   { color:rgba(255,255,255,.5);font-size:13px;margin-bottom:36px; }
        .splash-bar   { width:220px;height:4px;background:rgba(255,255,255,.15);border-radius:2px;overflow:hidden; }
        .splash-fill  { height:100%;width:0;background:linear-gradient(90deg,#3b7cf4,#38b2ac);border-radius:2px;animation:splashLoad 2.2s ease forwards; }
        @keyframes splashPulse{0%,100%{transform:scale(1);box-shadow:0 0 0 0 rgba(59,124,244,.4);}50%{transform:scale(1.06);box-shadow:0 0 0 16px rgba(59,124,244,0);}}
        @keyframes splashLoad{0%{width:0}60%{width:70%}100%{width:100%}}

        /* ‚ïê‚ïê PARTIKEL ‚ïê‚ïê */
        #particles{position:absolute;inset:0;pointer-events:none;overflow:hidden;z-index:0;}
        .particle{position:absolute;border-radius:50%;opacity:.2;animation:floatUp linear infinite;}
        @keyframes floatUp{0%{transform:translateY(110vh) scale(0);opacity:0;}10%{opacity:.3;}90%{opacity:.1;}100%{transform:translateY(-120px) scale(1);opacity:0;}}

        /* ‚ïê‚ïê NAV PINJAM ‚ïê‚ïê */
        .nav-pinjam{background:linear-gradient(135deg,#3b7cf4,#38b2ac)!important;color:#fff!important;padding:7px 18px!important;border-radius:20px!important;font-weight:700!important;animation:glowPinjam 2s ease-in-out infinite;}
        .nav-pinjam::after{display:none!important;}
        .nav-pinjam:hover{opacity:.9;transform:translateY(-2px);}
        @keyframes glowPinjam{0%,100%{box-shadow:0 4px 15px rgba(59,124,244,.5);}50%{box-shadow:0 4px 25px rgba(56,178,172,.8);}}

        /* ‚ïê‚ïê CTA HERO ‚ïê‚ïê */
        .hero-cta{display:flex;gap:14px;margin-top:28px;flex-wrap:wrap;}
        .btn-cta-primary{padding:14px 30px;background:linear-gradient(135deg,#3b7cf4,#38b2ac);color:#fff;border-radius:30px;font-weight:700;font-size:14px;text-decoration:none;display:inline-flex;align-items:center;gap:8px;box-shadow:0 6px 20px rgba(59,124,244,.5);transition:.3s;}
        .btn-cta-primary:hover{transform:translateY(-3px);box-shadow:0 10px 30px rgba(59,124,244,.7);}
        .btn-cta-secondary{padding:14px 30px;background:rgba(255,255,255,.15);backdrop-filter:blur(8px);color:#fff;border-radius:30px;font-weight:600;font-size:14px;text-decoration:none;display:inline-flex;align-items:center;gap:8px;border:1px solid rgba(255,255,255,.3);transition:.3s;}
        .btn-cta-secondary:hover{background:rgba(255,255,255,.25);transform:translateY(-3px);}

        /* ‚ïê‚ïê COUNTER ‚ïê‚ïê */
        .counter-section{background:linear-gradient(135deg,#0f1b35 0%,#1c2d55 100%);padding:70px 80px;position:relative;overflow:hidden;}
        .counter-section::before{content:'';position:absolute;inset:0;background:radial-gradient(ellipse 80% 60% at 50% 50%,rgba(59,124,244,.1) 0%,transparent 70%);}
        .counter-grid{display:grid;grid-template-columns:repeat(4,1fr);gap:24px;max-width:1000px;margin:0 auto;position:relative;z-index:1;}
        .counter-card{text-align:center;padding:32px 20px;background:rgba(255,255,255,.06);border:1px solid rgba(255,255,255,.1);border-radius:18px;backdrop-filter:blur(6px);transition:.3s;}
        .counter-card:hover{background:rgba(255,255,255,.12);transform:translateY(-6px);}
        .counter-icon{font-size:2rem;margin-bottom:12px;}
        .counter-num{font-size:2.8rem;font-weight:800;line-height:1;background:linear-gradient(135deg,#3b7cf4,#38b2ac);-webkit-background-clip:text;-webkit-text-fill-color:transparent;}
        .counter-label{font-size:13px;color:rgba(255,255,255,.55);margin-top:8px;font-weight:500;}

        /* ‚ïê‚ïê VISI MISI ‚ïê‚ïê */
        #visi-misi{background:linear-gradient(135deg,#f8faff 0%,#eef2ff 100%);padding:100px 80px;scroll-margin-top:80px;}
        .vm-header{text-align:center;margin-bottom:60px;}
        .vm-header h2{font-size:2.4rem;font-weight:800;color:#1c2d55;margin-bottom:10px;}
        .vm-header p{color:#64748b;font-size:15px;}
        .vm-grid{display:grid;grid-template-columns:1fr 1fr;gap:28px;max-width:1100px;margin:0 auto;}
        .vm-card{border-radius:22px;padding:40px;transition:.3s;}
        .vm-card:hover{transform:translateY(-6px);box-shadow:0 20px 50px rgba(0,0,0,.12);}
        .vm-card.visi{background:linear-gradient(135deg,#0f1b35,#1c2d55);}
        .vm-card.misi{background:#fff;border:2px solid #e2e8f0;}
        .vm-icon{width:56px;height:56px;border-radius:14px;display:flex;align-items:center;justify-content:center;font-size:22px;margin-bottom:20px;}
        .vm-card.visi .vm-icon{background:rgba(59,124,244,.3);color:#5b9cf6;}
        .vm-card.misi .vm-icon{background:linear-gradient(135deg,#3b7cf4,#38b2ac);color:#fff;}
        .vm-card.visi h3{font-size:1.4rem;font-weight:800;color:#fff;margin-bottom:16px;}
        .vm-card.misi h3{font-size:1.4rem;font-weight:800;color:#1c2d55;margin-bottom:16px;}
        .vm-card.visi p{line-height:1.85;font-size:14px;color:rgba(255,255,255,.72);}
        .misi-list{list-style:none;padding:0;display:flex;flex-direction:column;gap:12px;}
        .misi-list li{display:flex;align-items:flex-start;gap:10px;font-size:14px;color:#475569;line-height:1.6;}
        .misi-list li i{color:#3b7cf4;margin-top:3px;flex-shrink:0;}

        /* ‚ïê‚ïê KOLEKSI ‚ïê‚ïê */
        #koleksi{background:#fff;padding:100px 80px;scroll-margin-top:80px;}
        .section-header-std{text-align:center;margin-bottom:50px;}
        .section-header-std h2{font-size:2.4rem;font-weight:800;color:#1c2d55;margin-bottom:10px;}
        .section-header-std p{color:#64748b;font-size:15px;}
        .koleksi-tabs{display:flex;justify-content:center;gap:10px;margin-bottom:36px;flex-wrap:wrap;}
        .ktab{padding:9px 22px;border-radius:50px;border:2px solid #e2e8f0;background:#fff;color:#64748b;font-weight:600;font-size:13px;cursor:pointer;transition:.25s;}
        .ktab:hover{border-color:#3b7cf4;color:#3b7cf4;}
        .ktab.on{background:linear-gradient(135deg,#1c2d55,#3b7cf4);color:#fff;border-color:transparent;box-shadow:0 4px 14px rgba(59,124,244,.35);}
        .koleksi-grid{display:grid;grid-template-columns:repeat(auto-fill,minmax(190px,1fr));gap:20px;max-width:1200px;margin:0 auto;}
        .kol-card{border-radius:16px;overflow:hidden;border:1.5px solid #e8ecf4;transition:.3s;cursor:pointer;}
        .kol-card:hover{transform:translateY(-6px);box-shadow:0 16px 40px rgba(0,0,0,.1);}
        .kol-cover{height:140px;display:flex;align-items:center;justify-content:center;position:relative;}
        .kol-cover i{font-size:2.8rem;color:rgba(255,255,255,.5);}
        .kol-cat-b{position:absolute;top:10px;left:10px;font-size:9px;font-weight:700;letter-spacing:1px;text-transform:uppercase;background:rgba(0,0,0,.3);color:#fff;padding:3px 9px;border-radius:20px;}
        .kol-body{padding:14px;background:#fff;}
        .kol-title{font-size:12.5px;font-weight:700;color:#1c2d55;margin-bottom:3px;line-height:1.3;}
        .kol-author{font-size:10.5px;color:#94a3b8;margin-bottom:9px;}
        .kol-footer{display:flex;justify-content:space-between;align-items:center;}
        .kol-ok{font-size:11px;font-weight:700;color:#16a34a;}
        .kol-low{font-size:11px;font-weight:700;color:#ea580c;}
        .kol-out{font-size:11px;font-weight:700;color:#dc2626;}
        .kol-year{font-size:10px;color:#94a3b8;}
        .koleksi-cta{text-align:center;margin-top:40px;}
        .btn-lihat-semua{display:inline-flex;align-items:center;gap:8px;padding:13px 32px;background:linear-gradient(135deg,#1c2d55,#3b7cf4);color:#fff;border-radius:30px;font-weight:700;font-size:14px;text-decoration:none;transition:.3s;box-shadow:0 4px 16px rgba(59,124,244,.35);}
        .btn-lihat-semua:hover{transform:translateY(-3px);box-shadow:0 8px 24px rgba(59,124,244,.5);}

        /* ‚ïê‚ïê LAYANAN ‚ïê‚ïê */
        #layanan{background:linear-gradient(135deg,#0f1b35 0%,#1c2d55 100%);padding:100px 80px;scroll-margin-top:80px;position:relative;overflow:hidden;}
        #layanan::before{content:'';position:absolute;inset:0;background:radial-gradient(ellipse 70% 70% at 80% 30%,rgba(59,124,244,.15) 0%,transparent 60%);}
        .layanan-header{text-align:center;margin-bottom:60px;position:relative;z-index:1;}
        .layanan-header h2{font-size:2.4rem;font-weight:800;color:#fff;margin-bottom:10px;}
        .layanan-header p{color:rgba(255,255,255,.5);font-size:15px;}
        .layanan-grid{display:grid;grid-template-columns:repeat(3,1fr);gap:22px;max-width:1100px;margin:0 auto;position:relative;z-index:1;}
        .layanan-card{background:rgba(255,255,255,.06);border:1px solid rgba(255,255,255,.1);border-radius:20px;padding:34px 28px;transition:.3s;backdrop-filter:blur(6px);}
        .layanan-card:hover{background:rgba(255,255,255,.12);transform:translateY(-8px);box-shadow:0 20px 50px rgba(0,0,0,.3);border-color:rgba(59,124,244,.4);}
        .layanan-icon{width:58px;height:58px;border-radius:15px;display:flex;align-items:center;justify-content:center;font-size:22px;margin-bottom:20px;background:linear-gradient(135deg,#3b7cf4,#38b2ac);color:#fff;box-shadow:0 6px 18px rgba(59,124,244,.4);}
        .layanan-card h3{font-size:1.1rem;font-weight:700;color:#fff;margin-bottom:10px;}
        .layanan-card p{font-size:13.5px;color:rgba(255,255,255,.55);line-height:1.75;}
        .layanan-badge{display:inline-block;margin-top:14px;padding:4px 12px;background:rgba(59,124,244,.25);color:#5b9cf6;border-radius:20px;font-size:11px;font-weight:700;}

        @media(max-width:900px){
            .counter-grid{grid-template-columns:repeat(2,1fr);}
            .vm-grid{grid-template-columns:1fr;}
            .layanan-grid{grid-template-columns:1fr;}
            #visi-misi,#koleksi,#layanan,.counter-section{padding:70px 25px;}
        }

        * { margin: 0; padding: 0; box-sizing: border-box; font-family: 'Poppins', sans-serif; }
        html { scroll-behavior: smooth; }
        body {
            background: linear-gradient(rgba(0,0,0,.45), rgba(0,0,0,.45)),
                url("https://smkn1ketapang.sch.id/wp-content/uploads/2022/11/WhatsApp-Image-2022-11-28-at-09.10.28-1024x768.jpeg");
            background-size: fixed;
            min-height: 100vh;
            overflow-x: hidden;
        }

        header {
            position: fixed; top: 0; left: 0;
            width: 100%; padding: 18px 80px;
            display: flex; justify-content: space-between; align-items: center;
            z-index: 1000; transition: .4s;
        }
        header.solid { background: rgba(0,0,0,.85); backdrop-filter: blur(6px); }

        .logo { display: flex; align-items: center; gap: 14px; color: #fff; }
        .logo img { width: 70px; }
        .logo span { font-size: 16px; font-weight: 600; }
        .logo small { font-size: 12px; opacity: .8; }

        .menu-toggle { display: none; font-size: 26px; color: #fff; cursor: pointer; }

        nav ul { display: flex; list-style: none; gap: 28px; }
        nav ul li { position: relative; }
        nav ul li a {
            color: #fff; text-decoration: none; font-size: 14px;
            padding: 8px 0; position: relative;
        }
        nav ul li a::after {
            content: ''; position: absolute; left: 0; bottom: 0;
            width: 0; height: 2px; background: #ffffff; transition: .3s;
        }
        nav ul li a:hover::after { width: 100%; }
        nav ul li a.active::after { width: 100%; background: #fff; }

        .dropdown {
            position: absolute; top: 40px; left: 0;
            background: #fff; width: 240px; border-radius: 8px;
            box-shadow: 0 15px 40px rgba(0,0,0,.25);
            opacity: 0; visibility: hidden; transform: translateY(15px); transition: .3s;
        }
        nav ul li:hover .dropdown { opacity: 1; visibility: visible; transform: translateY(0); }
        .dropdown a { display: block; padding: 12px 18px; color: #333; text-decoration: none; }
        .dropdown a:hover { background: #f4f4f4; }

        .hero {
            padding: 160px 80px 80px;
            display: flex; justify-content: space-between; align-items: center;
        }
        .hero-text { color: #fff; max-width: 600px; }
        .hero-text h1 { font-size: 44px; margin: 20px 0; }
        .typing {
            width: 0; overflow: hidden; white-space: nowrap;
            border-right: 3px solid #fff;
            animation: typing 4s steps(30, end) forwards, blink .8s infinite;
        }
        .student-img { width: 420px; }

        .ticker-wrap { overflow: hidden; width: 100%; margin-top: 22px; }
        .ticker-track {
            display: flex; white-space: nowrap;
            animation: tickerScroll 28s linear infinite;
        }
        .ticker-track span {
            font-size: 15px; color: rgba(255,255,255,0.85);
            padding-right: 80px; letter-spacing: 0.5px;
        }
        .ticker-track span::before {
            content: '‚ú¶'; color: #ffc107; margin-right: 14px; font-size: 12px;
        }
        @keyframes tickerScroll {
            0%   { transform: translateX(0); }
            100% { transform: translateX(-50%); }
        }

        .section { opacity: 0; transform: translateY(60px); transition: 1s; }
        .section.show { opacity: 1; transform: none; }

        .pendahuluan { background: #fff; padding: 100px 80px; position: relative; z-index: 1; isolation: isolate; }
        .pendahuluan-wrapper { display: grid; grid-template-columns: 1.2fr .8fr; gap: 60px; }
        .pendahuluan-text p { line-height: 1.9; margin-bottom: 15px; color: #444; }
        .pendahuluan-media { display: grid; gap: 15px; }
        .media-row { display: grid; grid-template-columns: 1fr 1fr; gap: 15px; }
        .media-box { overflow: hidden; border-radius: 10px; box-shadow: 0 8px 25px rgba(0,0,0,.2); }
        .media-box img { width: 100%; height: 100%; object-fit: cover; transition: .4s; }
        .media-box:hover img { transform: scale(1.08); }

        .partner-section {
            background: #fdfdfd; padding: 80px 20px;
            text-align: center; border-top: 1px solid #eee;
            position: relative; z-index: 1; isolation: isolate;
        }
        .partner-title { color: #003366; font-size: 28px; margin-bottom: 40px; }
        .partner-subtitle { color: #4A90E2; font-size: 14px; font-weight: bold; letter-spacing: 2px; }

        .swiper { width: 100%; padding-bottom: 50px; }
        .swiper-slide { display: flex; justify-content: center; align-items: center; }
        .swiper-slide img {
            max-height: 80px; transition: all 0.3s ease;
            cursor: pointer; filter: grayscale(100%); opacity: 0.6;
        }
        .swiper-slide:hover img { filter: grayscale(0%); opacity: 1; transform: scale(1.1); }
        .swiper-pagination-bullet-active { background: #4A90E2 !important; }

        #struktur-organisasi { scroll-margin-top: 100px; }
        .struktur-section { 
            background: #ffffff; 
            padding: 100px 20px; 
            text-align: center;
            position: relative;
            z-index: 1;
            isolation: isolate;
        }
        .org-container { max-width: 1000px; margin: 0 auto; position: relative; }

        .org-node { display: flex; flex-direction: column; align-items: center; margin-bottom: 30px; }
        .org-card {
            background: #fff; border: 2px solid #003366; border-radius: 50px;
            padding: 8px 25px 8px 10px; display: flex; align-items: center;
            min-width: 300px; box-shadow: 0 4px 15px rgba(0,0,0,0.1);
        }
        .org-photo {
            width: 50px; height: 50px; border-radius: 50%;
            background: #eee; margin-right: 15px;
            border: 2px solid #ffc107; overflow: hidden;
        }
        .org-photo img { width: 100%; height: 100%; object-fit: cover; }
        .org-info { text-align: left; }
        .org-role { font-size: 10px; font-weight: bold; color: #c0392b; border-bottom: 1px solid #c0392b; margin-bottom: 2px; }
        .org-name { font-size: 13px; font-weight: 600; color: #333; }

        .org-line-v { width: 2px; height: 30px; background: #003366; }
        .org-line-h { width: 70%; height: 2px; background: #003366; margin: 0 auto; }

        .org-bottom { display: flex; justify-content: space-between; padding-top: 30px; position: relative; }
        .org-column { flex: 1; display: flex; flex-direction: column; align-items: center; position: relative; }
        .org-column::before { content: ""; width: 2px; height: 30px; background: #003366; position: absolute; top: -30px; }

        .service-badge { background: #003366; color: #fff; padding: 4px 15px; border-radius: 5px; font-size: 11px; margin-bottom: 15px; }
        .staff-card-simple {
            background: #f9f9f9; border: 1px solid #ddd; border-radius: 30px;
            padding: 5px 15px 5px 5px; display: flex; align-items: center;
            width: 220px; margin-bottom: 8px; transition: .3s;
        }
        .staff-photo-simple { width: 35px; height: 35px; border-radius: 50%; background: #ddd; margin-right: 10px; overflow: hidden; }
        .staff-photo-simple img { width: 100%; height: 100%; object-fit: cover; }

        .petugas-grid-section { background: #fff; padding: 80px 20px; text-align: center; position: relative; z-index: 1; isolation: isolate; }
        .staff-wrapper {
            display: grid; grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
            gap: 30px; max-width: 1200px; margin: 0 auto;
        }
        .staff-pro-card {
            background: white; border-radius: 30px;
            overflow: hidden; box-shadow: 0 10px 30px rgba(0,0,0,0.08);
            position: relative; transition: .4s;
        }
        .staff-pro-card:hover { transform: translateY(-10px); }
        .image-box { position: relative; height: 350px; overflow: hidden; }
        .image-box img { width: 100%; height: 100%; object-fit: cover; }

        .wave-wrapper { position: absolute; bottom: -2px; left: 0; width: 100%; line-height: 0; }
        .wave-wrapper svg { width: 150%; height: 70px; }
        .wave-1 { fill: rgba(255,255,255,0.3); animation: moveWave 8s linear infinite; }
        .wave-2 { fill: rgba(255,255,255,0.5); animation: moveWave 5s linear infinite reverse; }
        .wave-3 { fill: #ffffff; }

        .info-box { padding: 25px 20px; text-align: center; }
        .info-box h4 { color: #003366; font-size: 18px; font-weight: 700; margin-bottom: 5px; }
        .info-box p { color: #777; font-size: 13px; margin-bottom: 15px; }

        .social-links { display: flex; justify-content: center; gap: 10px; }
        .social-links a {
            width: 35px; height: 35px; border-radius: 50%;
            display: flex; align-items: center; justify-content: center;
            background: #f0f2f5; color: #555; transition: .3s; text-decoration: none;
        }
        .social-links a:hover { transform: scale(1.15); color: #fff; }
        .wa:hover { background: #25D366 !important; }
        .fb:hover { background: #1877F2 !important; }
        .ig:hover { background: #E4405F !important; }
        .mail:hover { background: #EA4335 !important; }

        :root {
            --primary-blue: #2c5282;
            --accent-teal: #38b2ac;
            --text-gray: #4a5568;
            --light-bg: #f7fafc;
            --card-bg: #ffffff;
            --border-light: #e2e8f0;
            --shadow-light: rgba(0,0,0,0.05);
            --shadow-medium: rgba(0,0,0,0.1);
        }

        #tata-tertib-rules {
            padding: 100px 20px;
            background-color: var(--light-bg);
            font-family: 'Inter', sans-serif;
            color: var(--text-gray);
            position: relative; z-index: 1; isolation: isolate;
        }
        .container { max-width: 1200px; margin: 0 auto; }

        .section-header-tata-tertib { text-align: center; margin-bottom: 70px; }
        .section-header-tata-tertib h2 { font-size: 2.8rem; font-weight: 700; color: var(--primary-blue); }
        .section-header-tata-tertib h2::after {
            content: ''; display: block; width: 80px; height: 4px;
            background-color: var(--accent-teal); margin: 15px auto 0; border-radius: 2px;
        }
        .section-header-tata-tertib p { font-size: 1.1rem; color: var(--text-gray); margin-top: 20px; max-width: 700px; margin-left: auto; margin-right: auto; }

        .rules-grid-tata-tertib { display: grid; grid-template-columns: repeat(auto-fit, minmax(320px, 1fr)); gap: 30px; }
        .rule-card-tata-tertib {
            background-color: var(--card-bg); border-radius: 15px; padding: 40px 30px;
            box-shadow: 0 10px 25px var(--shadow-light); transition: all 0.3s ease-out;
            position: relative; overflow: hidden; border: 1px solid var(--border-light); z-index: 2;
        }
        .rule-card-tata-tertib::before {
            content: ''; position: absolute; top: 0; left: 0;
            width: 100%; height: 6px; background-color: var(--primary-blue);
            transition: all 0.4s ease-in-out; z-index: -1;
        }
        .rule-card-tata-tertib:hover { transform: translateY(-8px) scale(1.01); box-shadow: 0 15px 35px var(--shadow-medium); }
        .rule-card-tata-tertib:hover::before { height: 100%; background-color: rgba(44,82,130,0.02); }

        .icon-container-tata-tertib {
            width: 60px; height: 60px; background-color: var(--accent-teal);
            border-radius: 50%; display: flex; align-items: center; justify-content: center;
            margin-bottom: 25px; transition: transform 0.3s ease-out, background-color 0.3s ease-out;
            box-shadow: 0 5px 15px rgba(56,178,172,0.3);
        }
        .rule-card-tata-tertib:hover .icon-container-tata-tertib { transform: rotate(5deg) scale(1.05); background-color: var(--primary-blue); }
        .icon-container-tata-tertib i { font-size: 26px; color: #ffffff; }
        .rule-card-tata-tertib h3 { font-size: 1.5rem; font-weight: 600; color: var(--primary-blue); margin-bottom: 20px; }

        .detail-list-tata-tertib { list-style: none; padding: 0; }
        .detail-list-tata-tertib li { display: flex; align-items: flex-start; gap: 12px; margin-bottom: 15px; line-height: 1.6; font-size: 0.95rem; }
        .detail-list-tata-tertib li i { margin-top: 4px; font-size: 1rem; color: var(--accent-teal); }
        .detail-list-tata-tertib li.warning i { color: #f6ad55; }
        .detail-list-tata-tertib li.danger i { color: #e53e3e; }

        .hours-table-tata-tertib { width: 100%; border-collapse: collapse; margin-top: 10px; }
        .hours-table-tata-tertib td { padding: 8px 0; font-size: 0.95rem; border-bottom: 1px solid var(--border-light); }
        .hours-table-tata-tertib tr:last-child td { border-bottom: none; }
        .hours-table-tata-tertib .time { text-align: right; font-weight: 500; color: var(--accent-teal); }

        .status-info-badge {
            display: inline-flex; align-items: center; gap: 8px;
            background-color: var(--accent-teal); color: #fff;
            padding: 8px 18px; border-radius: 20px; font-size: 0.85rem; font-weight: 500; margin-top: 25px;
        }

        .reveal-tata-tertib { opacity: 0; transform: translateY(30px); transition: opacity 0.8s ease-out, transform 0.8s ease-out; }
        .reveal-tata-tertib.active { opacity: 1; transform: translateY(0); }

        #kontak {
            background-color: #f8fafc; padding: 80px 20px;
            display: flex; justify-content: center; font-family: 'Inter', sans-serif;
        }
        .kontak-container { width: 100%; max-width: 1100px; }

        .main-card {
            display: grid; grid-template-columns: 380px 1fr;
            background: #ffffff; border-radius: 30px; overflow: hidden;
            box-shadow: 0 20px 25px -5px rgba(0,0,0,0.1);
            border: 1px solid rgba(0,0,0,0.05);
            transition: transform 0.4s ease, box-shadow 0.4s ease;
            animation: fadeInScale 0.8s cubic-bezier(0.165, 0.84, 0.44, 1);
        }
        .main-card:hover { transform: translateY(-5px); box-shadow: 0 30px 40px -10px rgba(0,0,0,0.15); }

        .sidebar-left { background: #ffffff; display: flex; flex-direction: column; border-right: 1px solid #f1f5f9; }
        .brand-box { padding: 30px; text-align: center; }
        .logo-wrapper {
            width: 80px; height: 80px; margin: 0 auto 15px;
            cursor: pointer; transition: transform 0.6s cubic-bezier(0.34, 1.56, 0.64, 1); user-select: none;
        }
        .logo-wrapper:hover { transform: rotate(10deg) scale(1.1); }
        .logo-wrapper img { width: 100%; height: 100%; object-fit: contain; }
        .brand-box h1 { font-size: 1.3rem; color: #1e3a8a; margin-bottom: 5px; font-family: 'Inter', sans-serif; }

        .contact-list { padding: 0 25px 25px; display: flex; flex-direction: column; gap: 10px; }
        .contact-item { display: flex; align-items: center; gap: 12px; padding: 12px; background: #f8fafc; border-radius: 12px; transition: all 0.3s ease; }
        .contact-item:hover { background: #eff6ff; transform: translateX(8px); }
        .contact-item i { color: #3b82f6; }
        .contact-link { text-decoration: none; color: inherit; font-weight: 500; font-size: 0.85rem; }

        .map-wrapper { flex-grow: 1; min-height: 400px; position: relative; }
        .map-wrapper iframe { width: 100%; height: 100%; border: none; }

        .form-area { padding: 50px; background: #ffffff; position: relative; }
        .form-area h2 { font-size: 1.8rem; color: #1e3a8a; margin-bottom: 8px; font-family: 'Inter', sans-serif; }
        .subtitle { color: #64748b; margin-bottom: 35px; font-family: 'Inter', sans-serif; }

        .form-group { margin-bottom: 25px; }
        .form-group label { display: block; font-weight: 700; font-size: 0.75rem; color: #1e3a8a; text-transform: uppercase; margin-bottom: 10px; font-family: 'Inter', sans-serif; }
        .input-field { width: 100%; padding: 14px 18px; border: 2px solid #f1f5f9; border-radius: 12px; transition: all 0.3s ease; font-family: 'Inter', sans-serif; }
        .input-field:focus { outline: none; border-color: #3b82f6; box-shadow: 0 0 0 4px rgba(59,130,246,0.1); background: #ffffff; transform: translateY(-2px); }

        .radio-group { display: flex; gap: 15px; margin-top: 5px; flex-wrap: wrap; }
        .radio-option { display: flex; align-items: center; gap: 8px; cursor: pointer; font-size: 0.9rem; color: #1e293b; padding: 8px 15px; background: #f8fafc; border-radius: 10px; border: 1px solid #f1f5f9; transition: 0.3s; font-family: 'Inter', sans-serif; }
        .radio-option input { cursor: pointer; accent-color: #1e3a8a; }
        .radio-option:hover { background: #eff6ff; }

        .btn-submit {
            width: 100%; padding: 18px; background: #1e3a8a; color: white;
            border: none; border-radius: 15px; font-weight: 700; cursor: pointer;
            font-family: 'Inter', sans-serif; font-size: 1rem;
            display: flex; align-items: center; justify-content: center; gap: 12px;
            transition: all 0.3s cubic-bezier(0.23, 1, 0.32, 1); margin-top: 10px;
        }
        .btn-submit:hover { background: #3b82f6; transform: translateY(-3px); box-shadow: 0 10px 20px rgba(59,130,246,0.3); }
        .btn-submit:active { transform: scale(0.95); }
        .btn-submit:disabled { opacity: 0.7; cursor: not-allowed; transform: none; }

        .btn-submit i { transition: all 0.5s ease; }
        .btn-submit:hover i { transform: translate(5px, -5px) rotate(-45deg); }

        .btn-submit.loading i {
            animation: flyPlane 2s ease-in-out infinite;
            filter: drop-shadow(0 0 8px rgba(255,255,255,0.9));
            display: inline-block;
        }

        @keyframes flyPlane {
            0%   { transform: translate(0px, 0px) rotate(-45deg) scale(1); opacity: 1; }
            20%  { transform: translate(8px, -8px) rotate(-45deg) scale(1.2); opacity: 1; }
            40%  { transform: translate(15px, -15px) rotate(-45deg) scale(1.4); opacity: 0.6; }
            41%  { transform: translate(-15px, 10px) rotate(-45deg) scale(0.8); opacity: 0; }
            60%  { transform: translate(-8px, 5px) rotate(-45deg) scale(1); opacity: 0.8; }
            80%  { transform: translate(-3px, 2px) rotate(-45deg) scale(1.1); opacity: 1; }
            100% { transform: translate(0px, 0px) rotate(-45deg) scale(1); opacity: 1; }
        }

        @keyframes flyPremium {
            0%   { transform: translate(0, 0) rotate(-45deg) scale(1); opacity: 1; }
            10%  { transform: translate(20px, -20px) rotate(-45deg) scale(1.3); opacity: 1; }
            40%  { transform: translate(200px, -200px) rotate(-45deg) scale(1.6); opacity: 1; filter: drop-shadow(0 0 20px rgba(255,255,255,1)); }
            70%  { transform: translate(500px, -400px) rotate(-45deg) scale(1.2); opacity: 0.5; }
            100% { transform: translate(800px, -600px) rotate(-45deg) scale(0.5); opacity: 0; }
        }

        @keyframes smokeFade {
            0%   { transform: translate(0, 0) scale(1); opacity: 0.8; }
            50%  { transform: translate(-20px, -30px) scale(1.5); opacity: 0.4; }
            100% { transform: translate(-40px, -60px) scale(2); opacity: 0; }
        }

        #adminPanel {
            display: none; margin-top: 30px; padding: 20px;
            background: #ffffff; border: 2px dashed #3b82f6; border-radius: 20px;
        }
        .admin-header { display: flex; justify-content: space-between; align-items: center; margin-bottom: 15px; flex-wrap: wrap; gap: 10px; }
        .admin-header h3 { color: #1e3a8a; font-family: 'Inter', sans-serif; }
        .admin-actions { display: flex; gap: 8px; }
        .btn-admin { padding: 6px 12px; border: none; border-radius: 8px; cursor: pointer; font-size: 12px; font-family: 'Inter', sans-serif; font-weight: 600; }
        .btn-refresh { background: #3b82f6; color: white; }

        .feedback-card { background: #f8fafc; padding: 15px; border-radius: 12px; margin-bottom: 10px; border-left: 4px solid #3b82f6; font-size: 0.85rem; font-family: 'Inter', sans-serif; }
        .badge { font-size: 0.7rem; background: #1e3a8a; color: white; padding: 2px 8px; border-radius: 5px; margin-left: 5px; text-transform: uppercase; }
        .loading-msg { color: #64748b; font-size: 0.85rem; font-style: italic; padding: 10px 0; font-family: 'Inter', sans-serif; }

        .notif { display: none; padding: 12px 18px; border-radius: 12px; margin-bottom: 20px; font-size: 0.88rem; font-weight: 600; font-family: 'Inter', sans-serif; }
        .notif.success { background: #dcfce7; color: #166534; border: 1px solid #86efac; }
        .notif.error { background: #fee2e2; color: #991b1b; border: 1px solid #fca5a5; }

        @keyframes typing { to { width: 100%; } }
        @keyframes blink { 50% { border-color: transparent; } }
        @keyframes moveWave { 0% { transform: translateX(0); } 100% { transform: translateX(-50%); } }
        @keyframes fadeInScale { from { opacity: 0; transform: scale(0.95) translateY(20px); } to { opacity: 1; transform: scale(1) translateY(0); } }

        footer {
            background: #0f172a;
            color: #cbd5e1; font-family: 'Inter', sans-serif;
            padding: 70px 80px 0; position: relative;
        }

        .footer-top {
            display: grid; grid-template-columns: 1.4fr 1fr 1fr 1.2fr;
            gap: 50px; padding-bottom: 50px;
            border-bottom: 1px solid rgba(255,255,255,0.08);
        }

        .footer-brand .footer-logo { display: flex; align-items: center; gap: 12px; margin-bottom: 20px; }
        .footer-brand .footer-logo img { width: 55px; height: 55px; object-fit: contain; }
        .footer-brand .footer-logo-text strong { display: block; color: #ffffff; font-size: 16px; font-weight: 700; letter-spacing: 1px; }
        .footer-brand .footer-logo-text span { color: #3b82f6; font-size: 12px; font-weight: 600; letter-spacing: 2px; text-transform: uppercase; }
        .footer-brand p { font-size: 0.88rem; line-height: 1.8; color: #94a3b8; margin-bottom: 25px; }

        .footer-socials { display: flex; gap: 10px; flex-wrap: wrap; }
        .footer-socials a {
            width: 38px; height: 38px; border-radius: 10px;
            display: flex; align-items: center; justify-content: center;
            background: rgba(255,255,255,0.07); color: #cbd5e1;
            text-decoration: none; font-size: 15px;
            transition: all 0.3s ease; border: 1px solid rgba(255,255,255,0.1);
        }
        .footer-socials a:hover { transform: translateY(-4px); border-color: transparent; }
        .footer-socials a.twitter:hover  { background: #1DA1F2; color: #fff; }
        .footer-socials a.facebook:hover { background: #1877F2; color: #fff; }
        .footer-socials a.instagram:hover { background: linear-gradient(45deg, #f09433, #e6683c, #dc2743, #cc2366, #bc1888); color: #fff; }
        .footer-socials a.youtube:hover  { background: #FF0000; color: #fff; }
        .footer-socials a.tiktok:hover   { background: #010101; color: #fff; }

        .footer-col h4 {
            color: #ffffff; font-size: 13px; font-weight: 700;
            letter-spacing: 2px; text-transform: uppercase;
            margin-bottom: 22px; position: relative; padding-bottom: 12px;
        }
        .footer-col h4::after { content: ''; position: absolute; left: 0; bottom: 0; width: 30px; height: 2px; background: #3b82f6; border-radius: 2px; }
        .footer-col ul { list-style: none; padding: 0; display: flex; flex-direction: column; gap: 10px; }
        .footer-col ul li a { color: #94a3b8; text-decoration: none; font-size: 0.88rem; display: flex; align-items: center; gap: 8px; transition: all 0.3s ease; padding: 4px 0; }
        .footer-col ul li a::before { content: '‚Ä∫'; color: #3b82f6; font-size: 16px; font-weight: bold; transition: transform 0.3s ease; }
        .footer-col ul li a:hover { color: #ffffff; transform: translateX(5px); }

        .footer-contact h4 { color: #ffffff; font-size: 13px; font-weight: 700; letter-spacing: 2px; text-transform: uppercase; margin-bottom: 22px; position: relative; padding-bottom: 12px; }
        .footer-contact h4::after { content: ''; position: absolute; left: 0; bottom: 0; width: 30px; height: 2px; background: #3b82f6; border-radius: 2px; }
        .footer-contact-item { display: flex; align-items: flex-start; gap: 12px; margin-bottom: 16px; font-size: 0.88rem; color: #94a3b8; }
        .footer-contact-item i { color: #3b82f6; margin-top: 3px; width: 16px; flex-shrink: 0; font-size: 14px; }
        .footer-contact-item strong { color: #e2e8f0; }

        .footer-bottom { padding: 22px 0; display: flex; justify-content: center; align-items: center; text-align: center; }
        .footer-bottom p { font-size: 0.82rem; color: #475569; }
        .footer-bottom span { color: #3b82f6; font-weight: 600; }

        .scroll-top {
            position: fixed; bottom: 30px; right: 30px;
            width: 45px; height: 45px; background: #1e3a8a;
            color: white; border: none; border-radius: 12px;
            cursor: pointer; font-size: 18px;
            display: flex; align-items: center; justify-content: center;
            box-shadow: 0 5px 20px rgba(30,58,138,0.5);
            transition: all 0.3s ease; z-index: 999;
            opacity: 0; visibility: hidden;
        }
        .scroll-top.show { opacity: 1; visibility: visible; }
        .scroll-top:hover { background: #3b82f6; transform: translateY(-4px); }

        @media(max-width: 900px) {
            footer { padding: 50px 25px 0; }
            .footer-top { grid-template-columns: 1fr 1fr; gap: 35px; }
            .footer-brand { grid-column: 1 / -1; }
            header { padding: 15px 22px; }
            .menu-toggle { display: block; }
            nav ul {
                position: fixed; top: 65px; right: -260px;
                background: rgba(0,0,0,.95); flex-direction: column;
                width: 240px; padding: 25px; gap: 18px;
                border-radius: 12px 0 0 12px; transition: .4s;
            }
            nav ul.active { right: 0; }
            .hero { flex-direction: column; text-align: center; padding: 150px 25px 80px; }
            .student-img { width: 280px; margin-top: 30px; }
            .pendahuluan { padding: 70px 25px; }
            .pendahuluan-wrapper { grid-template-columns: 1fr; }
            .media-row { grid-template-columns: 1fr; }
            .org-bottom { flex-direction: column; align-items: center; gap: 40px; }
            .org-line-h { display: none; }
            .org-column::before { display: none; }
            .main-card { grid-template-columns: 1fr; }
            .map-wrapper { height: 300px; }
            .form-area { padding: 30px 25px; }
        }
        @media(max-width: 550px) {
            .footer-top { grid-template-columns: 1fr; }
        }
    </style>
</head>
<body>

<!-- ‚ïê‚ïê SPLASH SCREEN ‚ïê‚ïê -->
<div id="splash">
    <img class="splash-logo" src="logo smkn bulat.jpg" alt="Logo SMKN 1 Ketapang">
    <div class="splash-title">Perpustakaan SMKN 1 Ketapang</div>
    <div class="splash-sub">Memuat halaman, mohon tunggu...</div>
    <div class="splash-bar"><div class="splash-fill"></div></div>
</div>

<header>
    <div class="logo">
        <img src="https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcQcofkPgciaQNYImQ_qazRA48osKpjESS6HsQ&s">
        <span>Perpustakaan<br><small>SMKN 1 Ketapang</small></span>
    </div>
    <div class="menu-toggle" onclick="toggleMenu()">‚ò∞</div>
    <nav>
        <ul>
            <li><a href="#beranda" class="active">Beranda</a></li>
            <li onclick="toggleDropdown(this)">
                <a href="javascript:void(0)">Tentang Kami</a>
                <div class="dropdown">
                    <a href="#struktur-organisasi">Struktur Organisasi</a>
                    <a href="#Perpustakawan">Perpustakawan</a>
                    <a href="#tata-tertib-rules">Tata Tertib</a>
                    <a href="#visi-misi">Visi &amp; Misi</a>
                </div>
            </li>
            <li><a href="#koleksi">Koleksi</a></li>
            <li><a href="#layanan">Layanan</a></li>
            <li><a href="#kontak">Kontak</a></li>
            <!-- ‚úÖ LINK KE PEMINJAMAN ‚Äî sesuaikan path jika perlu -->
            <li><a href="Peminjaman.html" class="nav-pinjam">üîñ Peminjaman</a></li>
        </ul>
    </nav>
</header>

<section class="hero section show" id="beranda">
    <div id="particles"></div>
    <div class="hero-text">
        <small>Perpustakaan Sekolah</small>
        <h1>Perpustakaan<br>SMKN 1 Ketapang</h1>
        <p class="typing">Semua bisa karena membaca</p>
        <div class="ticker-wrap">
            <div class="ticker-track">
                <span>Semua bisa karena membaca ‚Äî Membaca adalah jendela dunia ‚Äî Ilmu adalah cahaya kehidupan ‚Äî Buku adalah sahabat terbaik ‚Äî Perpustakaan, tempat mimpi dimulai</span>
                <span>Semua bisa karena membaca ‚Äî Membaca adalah jendela dunia ‚Äî Ilmu adalah cahaya kehidupan ‚Äî Buku adalah sahabat terbaik ‚Äî Perpustakaan, tempat mimpi dimulai</span>
            </div>
        </div>
        <div class="hero-cta">
            <a href="Peminjaman.html" class="btn-cta-primary"><i class="fas fa-book-open"></i> Pinjam Buku Sekarang</a>
            <a href="#koleksi" class="btn-cta-secondary"><i class="fas fa-search"></i> Lihat Koleksi</a>
        </div>
    </div>
    <img class="student-img" src="kpl.png">
</section>

<section class="pendahuluan section">
    <div class="pendahuluan-wrapper">
        <div class="pendahuluan-text">
            <h2>Pendahuluan</h2>
            <p>Perpustakaan SMKN 1 KETAPANG merupakan salah satu tempat yang memfasilitasi sumber pembelajaran dalam mendukung pencapaian hasil belajar siswa yang berkualitas. Keberadaan perpustakaan sekolah sangat dibutuhkan para pendidik, tenaga kependidikan serta peserta didik untuk memperluas dan memperdalam pengetahuan untuk menunjang proses belajar mengajar di sekolah.</p>
            <p>Perpustakaan SMKN 1 Ketapang hadir sebagai jantung literasi dan pusat sumber belajar digital maupun cetak bagi seluruh warga sekolah. Kami berkomitmen menyediakan akses informasi yang luas guna mendukung terciptanya lulusan yang kompeten dan berkualitas.</p>
            <p>Di tengah era transformasi digital, Perpustakaan SMKN 1 Ketapang bertransformasi menjadi pusat inovasi dan kolaborasi pembelajaran. Keberadaan kami adalah wujud nyata dukungan sekolah dalam mencetak generasi literat yang siap menghadapi tantangan industri masa depan.</p>
            <p>Perpustakaan SMKN 1 Ketapang memiliki koleksi buku yang terus berkembang, mencakup buku pelajaran, buku referensi, majalah, surat kabar, hingga bahan bacaan pengayaan. Setiap koleksi dipilih dengan cermat untuk mendukung kurikulum dan memperluas wawasan seluruh warga sekolah.</p>
            <p>Dengan sistem pelayanan yang ramah dan terorganisir, kami memastikan setiap pengunjung mendapatkan pengalaman yang menyenangkan. Petugas perpustakaan siap membantu dalam pencarian buku, peminjaman, hingga bimbingan literasi agar kegiatan belajar semakin efektif.</p>
            <p>Kami mengundang seluruh siswa, guru, dan staf untuk menjadikan perpustakaan sebagai ruang belajar utama. Jadikan perpustakaan bukan sekadar tempat meminjam buku, tetapi sebagai rumah kedua untuk tumbuh, berpikir, dan berkarya bersama.</p>
        </div>
        <div class="pendahuluan-media">
            <div class="media-box"><img src="foto pendahuluan 1.jpeg"></div>
            <div class="media-row">
                <div class="media-box"><img src="foto pendahuluan 2.jpeg"></div>
                <div class="media-box"><img src="foto pendahuluan 3.jpeg"></div>
            </div>
        </div>
    </div>
</section>

<section class="partner-section section">
    <div class="partner-subtitle">PARTNER KAMI</div>
    <h2 class="partner-title">Terimakasih Atas Dukungannya</h2>
    <div class="swiper mySwiper">
        <div class="swiper-wrapper">
            <div class="swiper-slide"><img src="osis smkn1.jpg" alt="Partner 1"></div>
            <div class="swiper-slide"><img src="osis smkn1.jpg" alt="Partner 2"></div>
            <div class="swiper-slide"><img src="osis smkn1.jpg" alt="Partner 3"></div>
            <div class="swiper-slide"><img src="osis smkn1.jpg" alt="Partner 4"></div>
            <div class="swiper-slide"><img src="osis smkn1.jpg" alt="Partner 5"></div>
            <div class="swiper-slide"><img src="osis smkn1.jpg" alt="Partner 6"></div>
        </div>
        <div class="swiper-pagination"></div>
    </div>
</section>

<!-- ‚ïê‚ïê COUNTER ANIMASI ‚ïê‚ïê -->
<div class="counter-section section">
    <div class="counter-grid">
        <div class="counter-card">
            <div class="counter-icon">üìö</div>
            <div class="counter-num" data-target="500">0</div>
            <div class="counter-label">Koleksi Buku</div>
        </div>
        <div class="counter-card" id="counterAnggota">
            <div class="counter-icon">üë•</div>
            <div class="counter-num" data-target="0" id="anggotaNum">0</div>
            <div class="counter-label">Anggota Aktif</div>
        </div>
        <div class="counter-card">
            <div class="counter-icon">üìñ</div>
            <div class="counter-num" data-target="3500">0</div>
            <div class="counter-label">Buku Dipinjam</div>
        </div>
        <div class="counter-card">
            <div class="counter-icon">üèÜ</div>
            <div class="counter-num" data-target="15">0</div>
            <div class="counter-label">Tahun Berdiri</div>
        </div>
    </div>
</div>

<section class="struktur-section section" id="struktur-organisasi">
    <div class="partner-subtitle">ORGANISASI</div>
    <h2 class="partner-title" style="margin-bottom:50px;">Struktur Organisasi Perpustakaan</h2>
    <div class="org-container">
        <div class="org-node">
            <div class="org-card">
                <div class="org-photo"><img src="kpl.png" alt="Kepsek"></div>
                <div class="org-info">
                    <div class="org-role">Kepala Sekolah</div>
                    <div class="org-name">Erini, S.P., M.M.Pd</div>
                </div>
            </div>
            <div class="org-line-v"></div>
            <div class="org-card">
                <div class="org-photo"><img src="foto contoh.jpeg" alt="KaPerpus"></div>
                <div class="org-info">
                    <div class="org-role">Kepala Perpustakaan</div>
                    <div class="org-name">Novi Wahyuni, S.Pd</div>
                </div>
            </div>
        </div>
        <div class="org-line-h"></div>
        <div class="org-bottom">
            <div class="org-column">
                <div class="service-badge">Layanan Teknis</div>
                <div class="staff-card-simple"><div class="staff-photo-simple"><img src="foto contoh.jpeg"></div><span>Nadya Fitri Andriyani</span></div>
                <div class="staff-card-simple"><div class="staff-photo-simple"><img src="foto contoh.jpeg"></div><span>Hartati</span></div>
            </div>
            <div class="org-column">
                <div class="service-badge">Layanan Pemustaka</div>
                <div class="staff-card-simple"><div class="staff-photo-simple"><img src="foto contoh.jpeg"></div><span>Hartati</span></div>
            </div>
            <div class="org-column">
                <div class="service-badge">Layanan TIK</div>
                <div class="staff-card-simple"><div class="staff-photo-simple"><img src="foto contoh.jpeg"></div><span>Nadya Fitri Andriyani</span></div>
            </div>
        </div>
    </div>
</section>

<section class="petugas-grid-section" id="Perpustakawan">
    <div class="partner-subtitle">Perpustakawan</div>
    <h2 class="partner-title" style="margin-bottom:50px;">Para Petugas Kami</h2>
    <div class="staff-wrapper">
        <div class="staff-pro-card">
            <div class="image-box">
                <img src="foto contoh.jpeg">
                <div class="wave-wrapper">
                    <svg viewBox="0 24 150 28" preserveAspectRatio="none">
                        <defs><path id="wave-path" d="M-160 44c30 0 58-18 88-18s 58 18 88 18 58-18 88-18 58 18 88 18 v44h-352z"/></defs>
                        <g>
                            <use xlink:href="#wave-path" x="48" y="0" class="wave-1"/>
                            <use xlink:href="#wave-path" x="48" y="3" class="wave-2"/>
                            <use xlink:href="#wave-path" x="48" y="7" class="wave-3"/>
                        </g>
                    </svg>
                </div>
            </div>
            <div class="info-box">
                <h4>Aditya, S.IP</h4><p>Kepala Perpustakaan</p>
                <div class="social-links">
                    <a href="https://wa.me/6289531654541" class="wa" target="_blank"><i class="fab fa-whatsapp"></i></a>
                    <a href="https://www.facebook.com/share/1DFZNCEYtJ/" class="fb"><i class="fab fa-facebook-f"></i></a>
                    <a href="https://www.instagram.com/clows.ee?igsh=MWNpZzdwZjF0bHJ5dg==" class="ig"><i class="fab fa-instagram"></i></a>
                    <a href="mailto:perpus@smkn1ketapang.id" class="mail"><i class="fas fa-envelope"></i></a>
                </div>
            </div>
        </div>
        <div class="staff-pro-card">
            <div class="image-box">
                <img src="foto contoh.jpeg">
                <div class="wave-wrapper">
                    <svg viewBox="0 24 150 28" preserveAspectRatio="none">
                        <g>
                            <use xlink:href="#wave-path" x="48" y="0" class="wave-1"/>
                            <use xlink:href="#wave-path" x="48" y="3" class="wave-2"/>
                            <use xlink:href="#wave-path" x="48" y="7" class="wave-3"/>
                        </g>
                    </svg>
                </div>
            </div>
            <div class="info-box">
                <h4>Aditya</h4><p>Layanan Teknis</p>
                <div class="social-links">
                    <a href="https://wa.me/6289531654541" class="wa" target="_blank"><i class="fab fa-whatsapp"></i></a>
                    <a href="https://www.facebook.com/share/1DFZNCEYtJ/" class="fb"><i class="fab fa-facebook-f"></i></a>
                    <a href="https://www.instagram.com/clows.ee?igsh=MWNpZzdwZjF0bHJ5dg==" class="ig"><i class="fab fa-instagram"></i></a>
                    <a href="mailto:perpus@smkn1ketapang.id" class="mail"><i class="fas fa-envelope"></i></a>
                </div>
            </div>
        </div>
        <div class="staff-pro-card">
            <div class="image-box">
                <img src="foto contoh.jpeg">
                <div class="wave-wrapper">
                    <svg viewBox="0 24 150 28" preserveAspectRatio="none">
                        <g>
                            <use xlink:href="#wave-path" x="48" y="0" class="wave-1"/>
                            <use xlink:href="#wave-path" x="48" y="3" class="wave-2"/>
                            <use xlink:href="#wave-path" x="48" y="7" class="wave-3"/>
                        </g>
                    </svg>
                </div>
            </div>
            <div class="info-box">
                <h4>Aditya, S.Pd</h4><p>Layanan Pemustaka</p>
                <div class="social-links">
                    <a href="https://wa.me/6289531654541" class="wa" target="_blank"><i class="fab fa-whatsapp"></i></a>
                    <a href="https://www.facebook.com/share/1DFZNCEYtJ/" class="fb"><i class="fab fa-facebook-f"></i></a>
                    <a href="https://www.instagram.com/clows.ee?igsh=MWNpZzdwZjF0bHJ5dg==" class="ig"><i class="fab fa-instagram"></i></a>
                    <a href="mailto:perpus@smkn1ketapang.id" class="mail"><i class="fas fa-envelope"></i></a>
                </div>
            </div>
        </div>
    </div>
</section>

<section id="tata-tertib-rules">
    <div class="container">
        <div class="section-header-tata-tertib">
            <h2 style="color:var(--primary-blue); text-align:center; font-size:2.5rem;">Peraturan Perpustakaan</h2>
            <p style="text-align:center; margin-bottom:50px;">Memastikan kenyamanan dan efisiensi bersama. Mohon baca dan patuhi tata tertib berikut untuk pengalaman terbaik.</p>
        </div>
        <div class="rules-grid-tata-tertib">
            <div class="rule-card-tata-tertib reveal-tata-tertib">
                <div class="icon-container-tata-tertib"><i class="fas fa-clock"></i></div>
                <h3>Jam Operasional</h3>
                <table class="hours-table-tata-tertib">
                    <tr><td><strong>Senin - Kamis</strong></td><td class="time">07.00 - 15.30</td></tr>
                    <tr><td><strong>Jum'at</strong></td><td class="time">07.00 - 15.00</td></tr>
                    <tr><td><strong>Sabtu</strong></td><td class="time">07.00 - 15.00</td></tr>
                </table>
                <div class="status-info-badge"><i class="fas fa-info-circle"></i> Hari Libur Nasional Tutup</div>
            </div>
            <div class="rule-card-tata-tertib reveal-tata-tertib">
                <div class="icon-container-tata-tertib"><i class="fas fa-user-check"></i></div>
                <h3>Keanggotaan</h3>
                <ul class="detail-list-tata-tertib">
                    <li><i class="fas fa-check-circle"></i><span>Khusus untuk siswa, guru, dan staf SMKN 1 Ketapang.</span></li>
                    <li><i class="fas fa-check-circle"></i><span>Wajib aktivasi kartu dengan identitas yang valid.</span></li>
                    <li><i class="fas fa-check-circle"></i><span>Kartu anggota tidak dapat dipindahtangankan.</span></li>
                </ul>
            </div>
            <div class="rule-card-tata-tertib reveal-tata-tertib">
                <div class="icon-container-tata-tertib"><i class="fas fa-book-reader"></i></div>
                <h3>Peminjaman Buku</h3>
                <ul class="detail-list-tata-tertib">
                    <li><i class="fas fa-check-circle"></i><span>Maksimal peminjaman 2 buku dalam satu waktu.</span></li>
                    <li><i class="fas fa-check-circle"></i><span>Jangka waktu peminjaman maksimal 7 hari kerja.</span></li>
                    <li><i class="fas fa-check-circle"></i><span>Perpanjangan hanya dapat dilakukan 1 kali.</span></li>
                </ul>
            </div>
            <div class="rule-card-tata-tertib reveal-tata-tertib">
                <div class="icon-container-tata-tertib"><i class="fas fa-handshake"></i></div>
                <h3>Kewajiban Pengunjung</h3>
                <ul class="detail-list-tata-tertib">
                    <li><i class="fas fa-check-circle"></i><span>Menjaga ketenangan dan kebersihan area perpustakaan.</span></li>
                    <li><i class="fas fa-check-circle"></i><span>Mengisi buku tamu (presensi) setiap kali berkunjung.</span></li>
                    <li><i class="fas fa-check-circle"></i><span>Menaruh kembali buku pada tempat yang disediakan.</span></li>
                </ul>
            </div>
            <div class="rule-card-tata-tertib reveal-tata-tertib">
                <div class="icon-container-tata-tertib" style="background-color:#e53e3e; box-shadow:0 5px 15px rgba(229,62,62,0.3);"><i class="fas fa-ban"></i></div>
                <h3>Larangan</h3>
                <ul class="detail-list-tata-tertib">
                    <li class="danger"><i class="fas fa-times-circle"></i><span>Dilarang membawa makanan, minuman, dan benda tajam.</span></li>
                    <li class="danger"><i class="fas fa-times-circle"></i><span>Dilarang merusak, menyobek, atau mencoret koleksi buku.</span></li>
                    <li class="danger"><i class="fas fa-times-circle"></i><span>Dilarang membawa tas atau jaket ke area rak buku.</span></li>
                </ul>
            </div>
            <div class="rule-card-tata-tertib reveal-tata-tertib">
                <div class="icon-container-tata-tertib" style="background-color:#f6ad55; box-shadow:0 5px 15px rgba(246,173,85,0.3);"><i class="fas fa-exclamation-triangle"></i></div>
                <h3>Sanksi &amp; Denda</h3>
                <ul class="detail-list-tata-tertib">
                    <li class="warning"><i class="fas fa-exclamation-triangle"></i><span>Keterlambatan pengembalian dikenakan denda Rp 500,-/hari.</span></li>
                    <li class="warning"><i class="fas fa-exclamation-triangle"></i><span>Buku rusak/hilang wajib diganti dengan judul yang sama.</span></li>
                    <li class="warning"><i class="fas fa-exclamation-triangle"></i><span>Pelanggaran berat dapat berakibat skorsing akses.</span></li>
                </ul>
            </div>
        </div>
    </div>
</section>

<!-- ‚ïê‚ïê VISI & MISI ‚ïê‚ïê -->
<section id="visi-misi" class="section">
    <div class="vm-header">
        <div class="partner-subtitle">FILOSOFI KAMI</div>
        <h2>Visi &amp; Misi Perpustakaan</h2>
        <p>Landasan kami dalam memberikan pelayanan terbaik untuk seluruh warga SMKN 1 Ketapang</p>
    </div>
    <div class="vm-grid">
        <div class="vm-card visi">
            <div class="vm-icon"><i class="fas fa-eye"></i></div>
            <h3>Visi</h3>
            <p>Menjadi pusat sumber belajar yang unggul, inovatif, dan berdaya saing tinggi dalam mendukung terciptanya insan cerdas, berkarakter, dan siap menghadapi tantangan era industri 4.0 di lingkungan SMKN 1 Ketapang.</p>
        </div>
        <div class="vm-card misi">
            <div class="vm-icon"><i class="fas fa-bullseye"></i></div>
            <h3>Misi</h3>
            <ul class="misi-list">
                <li><i class="fas fa-check-circle"></i><span>Menyediakan koleksi buku dan sumber informasi yang relevan, mutakhir, dan beragam sesuai kebutuhan kurikulum.</span></li>
                <li><i class="fas fa-check-circle"></i><span>Memberikan layanan peminjaman yang mudah, cepat, dan ramah kepada seluruh civitas sekolah.</span></li>
                <li><i class="fas fa-check-circle"></i><span>Menumbuhkan budaya gemar membaca dan literasi digital bagi seluruh warga sekolah.</span></li>
                <li><i class="fas fa-check-circle"></i><span>Mengembangkan perpustakaan sebagai ruang belajar yang nyaman, modern, dan inspiratif.</span></li>
                <li><i class="fas fa-check-circle"></i><span>Mendukung pencapaian visi sekolah melalui penguatan program literasi dan pengembangan karakter.</span></li>
            </ul>
        </div>
    </div>
</section>

<!-- ‚ïê‚ïê KOLEKSI BUKU ‚ïê‚ïê -->
<section id="koleksi" class="section">
    <div class="section-header-std">
        <div class="partner-subtitle">PERPUSTAKAAN</div>
        <h2>Koleksi Buku Kami</h2>
        <p>Temukan ribuan judul buku pelajaran, fiksi, non-fiksi, dan referensi pilihan</p>
    </div>
    <div class="koleksi-tabs">
        <div class="ktab on" data-kcat="semua">Semua</div>
        <div class="ktab" data-kcat="Pelajaran">üìò Pelajaran</div>
        <div class="ktab" data-kcat="Fiksi">‚ú® Fiksi</div>
        <div class="ktab" data-kcat="Non-Fiksi">üåç Non-Fiksi</div>
        <div class="ktab" data-kcat="Referensi">üìñ Referensi</div>
    </div>
    <div class="koleksi-grid" id="koleksiGrid"></div>
    <div class="koleksi-cta">
        <a href="Peminjaman.html" class="btn-lihat-semua"><i class="fas fa-book-open"></i> Lihat Semua &amp; Pinjam Buku</a>
    </div>
</section>

<!-- ‚ïê‚ïê LAYANAN ‚ïê‚ïê -->
<section id="layanan" class="section">
    <div class="layanan-header">
        <div class="partner-subtitle" style="color:rgba(255,255,255,.5);">APA YANG KAMI TAWARKAN</div>
        <h2>Layanan Perpustakaan</h2>
        <p>Berbagai layanan kami hadirkan untuk mendukung kebutuhan belajar Anda</p>
    </div>
    <div class="layanan-grid">
        <div class="layanan-card">
            <div class="layanan-icon"><i class="fas fa-book-reader"></i></div>
            <h3>Peminjaman Buku</h3>
            <p>Pinjam hingga 2 buku sekaligus dengan durasi 7 hari kerja. Bisa diperpanjang 1 kali melalui sistem online kami.</p>
            <span class="layanan-badge">Maks. 2 Buku</span>
        </div>
        <div class="layanan-card">
            <div class="layanan-icon"><i class="fas fa-search"></i></div>
            <h3>Penelusuran Koleksi</h3>
            <p>Cari buku berdasarkan judul, pengarang, atau kategori dengan mudah melalui katalog digital perpustakaan kami.</p>
            <span class="layanan-badge">Real-time Search</span>
        </div>
        <div class="layanan-card">
            <div class="layanan-icon"><i class="fas fa-wifi"></i></div>
            <h3>Ruang Baca Digital</h3>
            <p>Fasilitas komputer dan WiFi gratis tersedia untuk siswa yang ingin mengakses referensi dan sumber belajar digital.</p>
            <span class="layanan-badge">WiFi Gratis</span>
        </div>
        <div class="layanan-card">
            <div class="layanan-icon"><i class="fas fa-chalkboard-teacher"></i></div>
            <h3>Bimbingan Literasi</h3>
            <p>Petugas perpustakaan siap membantu dalam pencarian informasi, penulisan karya ilmiah, dan pengembangan minat baca.</p>
            <span class="layanan-badge">Konsultasi Gratis</span>
        </div>
        <div class="layanan-card">
            <div class="layanan-icon"><i class="fas fa-print"></i></div>
            <h3>Fotokopi &amp; Cetak</h3>
            <p>Layanan fotokopi dan cetak dokumen tersedia dengan harga terjangkau untuk mendukung kebutuhan belajar siswa.</p>
            <span class="layanan-badge">Harga Terjangkau</span>
        </div>
        <div class="layanan-card">
            <div class="layanan-icon"><i class="fas fa-calendar-check"></i></div>
            <h3>Pemesanan Ruang</h3>
            <p>Ruang diskusi dan ruang baca kelompok dapat dipesan untuk kegiatan belajar bersama atau presentasi kelompok.</p>
            <span class="layanan-badge">Gratis untuk Siswa</span>
        </div>
    </div>
</section>

<section id="kontak">
    <div class="kontak-container">
        <div class="main-card">
            <aside class="sidebar-left">
                <div class="brand-box">
                    <div class="logo-wrapper" id="adminTrigger" title="Klik 5x untuk Admin Mode">
                        <img src="logo smkn bulat.jpg" alt="Logo SMKN 1 Ketapang">
                    </div>
                    <h1>SMKN 1 KETAPANG</h1>
                    <p style="font-size:0.75rem; color:#3b82f6; font-weight:800; letter-spacing:1px; font-family:'Inter',sans-serif;">LIBRARY CENTER</p>
                </div>
                <div class="contact-list">
                    <div class="contact-item">
                        <i class="fas fa-phone-alt"></i>
                        <a href="https://wa.me/6289531654541" target="_blank" class="contact-link">0895-3165-4541</a>
                    </div>
                    <div class="contact-item">
                        <i class="fas fa-envelope"></i>
                        <p style="font-size:0.85rem; font-family:'Inter',sans-serif;">perpus@smkn1ketapang.id</p>
                    </div>
                    <div class="contact-item">
                        <i class="fas fa-clock"></i>
                        <p style="font-size:0.85rem; font-family:'Inter',sans-serif;">Senin - Sabtu (07:00 - 15:30)</p>
                    </div>
                </div>
                <div class="map-wrapper">
                    <iframe src="https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d3987.3512345!2d109.9557813!3d-1.8488835!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x2e041f07ec5738db%3A0x16f45658e1ad6308!2sSMK%20Negeri%201%20Ketapang!5e0!3m2!1sid!2sid!4v1708600000000!5m2!1sid!2sid" allowfullscreen="" loading="lazy"></iframe>
                </div>
            </aside>
            <main class="form-area">
                <h2>Saran &amp; Masukan</h2>
                <p class="subtitle">Bantu kami meningkatkan layanan terbaik untuk Anda.</p>
                <div id="notifBox" class="notif"></div>
                <form id="feedbackForm">
                    <div class="form-group">
                        <label>Nama Lengkap</label>
                        <input type="text" id="nameInput" class="input-field" placeholder="Ketik nama Anda di sini..." required>
                    </div>
                    <div class="form-group">
                        <label>Status</label>
                        <div class="radio-group">
                            <label class="radio-option"><input type="radio" name="status" value="Siswa" checked> Siswa</label>
                            <label class="radio-option"><input type="radio" name="status" value="Guru"> Guru</label>
                            <label class="radio-option"><input type="radio" name="status" value="Umum"> Umum</label>
                        </div>
                    </div>
                    <div class="form-group">
                        <label>Pesan &amp; Saran</label>
                        <textarea id="msgInput" class="input-field" rows="6" placeholder="Apa yang bisa kami tingkatkan?" required></textarea>
                    </div>
                    <button type="submit" class="btn-submit" id="submitBtn">
                        <span id="btnText">Kirim Sekarang</span>
                        <i class="fas fa-paper-plane"></i>
                    </button>
                </form>
                <div id="adminPanel">
                    <div class="admin-header">
                        <h3><i class="fas fa-user-shield"></i> Database Masukan <span id="totalCount" class="badge">0</span></h3>
                        <div class="admin-actions">
                            <button class="btn-admin btn-refresh" onclick="loadData()"><i class="fas fa-sync-alt"></i> Refresh</button>
                        </div>
                    </div>
                    <div id="dataContainer"><p class="loading-msg">Memuat data...</p></div>
                </div>
            </main>
        </div>
    </div>
</section>

<footer>
    <div class="footer-top">
        <div class="footer-brand">
            <div class="footer-logo">
                <img src="logo smkn bulat.jpg" alt="Logo SMKN 1 Ketapang">
                <div class="footer-logo-text">
                    <strong>SMKN 1 KETAPANG</strong>
                    <span>Library Center</span>
                </div>
            </div>
            <p>Kami menyediakan beragam sumber belajar dan informasi untuk seluruh warga SMKN 1 Ketapang. Terus update kegiatan kami di media sosial.</p>
            <div class="footer-socials">
                <a href="#" class="twitter"  title="Twitter"><i class="fab fa-twitter"></i></a>
                <a href="https://www.facebook.com/share/1DFZNCEYtJ/" class="facebook" title="Facebook"><i class="fab fa-facebook-f"></i></a>
                <a href="https://www.instagram.com/clows.ee?igsh=MWNpZzdwZjF0bHJ5dg==" class="instagram" title="Instagram" target="_blank"><i class="fab fa-instagram"></i></a>
                <a href="https://youtube.com/@adityanirwantoro?si=2ZfmB3FUY4-vyuoe" class="youtube"  title="YouTube"><i class="fab fa-youtube"></i></a>
                <a href="https://www.tiktok.com/@sans_5651?_r=1&_t=ZS-9490YffIV9A" class="tiktok"   title="TikTok"><i class="fab fa-tiktok"></i></a>
            </div>
        </div>
        <div class="footer-col">
            <h4>Tautan Berguna</h4>
            <ul>
                <li><a href="#beranda">Beranda</a></li>
                <li><a href="#struktur-organisasi">Struktur Organisasi</a></li>
                <li><a href="#Perpustakawan">Perpustakawan</a></li>
                <li><a href="#tata-tertib-rules">Tata Tertib</a></li>
                <li><a href="#kontak">Kontak Kami</a></li>
            </ul>
        </div>
        <div class="footer-col">
            <h4>Tautan Lainnya</h4>
            <ul>
                <li><a href="https://smkn1ketapang.sch.id" target="_blank">Website Sekolah</a></li>
                <li><a href="#koleksi">Koleksi Buku</a></li>
                <li><a href="#layanan">Layanan Perpustakaan</a></li>
                <!-- ‚úÖ LINK FOOTER KE PEMINJAMAN -->
                <li><a href="Peminjaman.html">Peminjaman Buku</a></li>
                <li><a href="#kontak">Kotak Saran</a></li>
            </ul>
        </div>
        <div class="footer-contact">
            <h4>Hubungi Kami</h4>
            <div class="footer-contact-item">
                <i class="fas fa-map-marker-alt"></i>
                <span>Jl. Wolter. Monginsidi. No. 40 Ketapang,<br>Kalimantan Barat</span>
            </div>
            <div class="footer-contact-item">
                <i class="fas fa-phone-alt"></i>
                <span><strong>Telepon:</strong> <a href="https://wa.me/6289531654541" style="color:#94a3b8; text-decoration:none;">0895-3165-4541</a></span>
            </div>
            <div class="footer-contact-item">
                <i class="fas fa-envelope"></i>
                <span><strong>Email:</strong> perpus@smkn1ketapang.id</span>
            </div>
            <div class="footer-contact-item">
                <i class="fas fa-clock"></i>
                <span><strong>Jam Buka:</strong> Senin‚ÄìSabtu<br>07.00 ‚Äì 15.30 WIB</span>
            </div>
        </div>
    </div>
    <div class="footer-bottom">
        <p>Copyright &copy; 2026 <span>Perpustakaan SMKN 1 Ketapang</span>. All Rights Reserved.</p>
    </div>
</footer>

<button class="scroll-top" id="scrollTop" onclick="window.scrollTo({top:0, behavior:'smooth'})">
    <i class="fas fa-arrow-up"></i>
</button>

<script src="https://cdn.jsdelivr.net/npm/swiper@11/swiper-bundle.min.js"></script>
<script>

    /* ‚ïê‚ïê SPLASH SCREEN ‚ïê‚ïê */
    window.addEventListener('load', () => {
        setTimeout(() => {
            document.getElementById('splash').classList.add('hide');
        }, 2400);
    });

    /* ‚ïê‚ïê COUNTER PENGUNJUNG AKTIF ‚ïê‚ïê */
    (function() {
        const KEY      = 'perpus_visitors';
        const SESS_KEY = 'perpus_visited_this_session';

        // Ambil jumlah pengunjung tersimpan
        let count = parseInt(localStorage.getItem(KEY) || '0');

        // Jika belum pernah kunjungi di sesi ini, tambah +1
        if (!sessionStorage.getItem(SESS_KEY)) {
            count++;
            localStorage.setItem(KEY, count);
            sessionStorage.setItem(SESS_KEY, '1');
        }

        // Set target counter anggota aktif sesuai jumlah pengunjung
        const anggotaEl = document.getElementById('anggotaNum');
        if (anggotaEl) anggotaEl.dataset.target = count;
    })();

    /* ‚ïê‚ïê PARTIKEL HERO ‚ïê‚ïê */
    const pContainer = document.getElementById('particles');
    const colors = ['#3b7cf4','#38b2ac','#ffffff','#5b9cf6','#60d4d4'];
    for (let i = 0; i < 30; i++) {
        const p = document.createElement('div');
        const size = Math.random() * 10 + 4;
        p.className = 'particle';
        p.style.cssText = `
            width:${size}px; height:${size}px;
            left:${Math.random()*100}%;
            background:${colors[Math.floor(Math.random()*colors.length)]};
            animation-duration:${Math.random()*12+8}s;
            animation-delay:${Math.random()*10}s;
        `;
        pContainer.appendChild(p);
    }

    /* ‚ïê‚ïê SWIPER ‚ïê‚ïê */
    var swiper = new Swiper(".mySwiper", {
        slidesPerView: 2, spaceBetween: 30, loop: true,
        autoplay: { delay: 2000, disableOnInteraction: false },
        pagination: { el: ".swiper-pagination", clickable: true },
        breakpoints: { 640: { slidesPerView: 3 }, 1024: { slidesPerView: 5 } },
    });

    function toggleMenu() {
        document.querySelector('nav ul').classList.toggle('active');
    }

    function toggleDropdown(el) {
        if (window.innerWidth <= 900) el.classList.toggle('open');
    }

    window.addEventListener('scroll', () => {
        document.querySelector('header').classList.toggle('solid', window.scrollY > 50);
        document.getElementById('scrollTop').classList.toggle('show', window.scrollY > 300);
    });

    const sections = document.querySelectorAll('.section');
    const obs = new IntersectionObserver(e => {
        e.forEach(x => x.isIntersecting && x.target.classList.add('show'));
    }, { threshold: .1 });
    sections.forEach(s => obs.observe(s));

    /* ‚ïê‚ïê COUNTER ANIMASI ‚ïê‚ïê */
    const counters = document.querySelectorAll('.counter-num');
    const counterObs = new IntersectionObserver(entries => {
        entries.forEach(entry => {
            if (entry.isIntersecting) {
                const el = entry.target;
                const target = parseInt(el.dataset.target);
                let current = 0;
                const step = Math.ceil(target / 80);
                const timer = setInterval(() => {
                    current += step;
                    if (current >= target) { current = target; clearInterval(timer); }
                    el.textContent = current.toLocaleString('id-ID');
                }, 20);
                counterObs.unobserve(el);
            }
        });
    }, { threshold: 0.5 });
    counters.forEach(c => counterObs.observe(c));

    const BUKU = [
    { title:'Matematika Kelas X',           author:'Kemendikbud',               cat:'Pelajaran', icon:'fas fa-calculator',      bg:'linear-gradient(140deg,#1d4ed8,#1e40af)', stock:3, total:5, year:2022, img:'Matematika.png', isbn:'978-602-427-001-1' },
    { title:'Bahasa Indonesia XI',          author:'Kemendikbud',               cat:'Pelajaran', icon:'fas fa-language',        bg:'linear-gradient(140deg,#15803d,#166534)', stock:4, total:4, year:2022, img:'Indonesia_BG_KLS_XI_Rev_Cover.png' },
    { title:'Bumi',                         author:'Tere Liye',                 cat:'Fiksi',     icon:'fas fa-globe',           bg:'linear-gradient(140deg,#7c3aed,#6d28d9)', stock:1, total:3, year:2021, img:'Islam-BG-KLS-XI.png' },
    { title:'Laskar Pelangi',               author:'Andrea Hirata',             cat:'Fiksi',     icon:'fas fa-star',            bg:'linear-gradient(140deg,#d97706,#b45309)', stock:5, total:6, year:2020, img:'Kristen XI.png' },
    { title:'Sapiens',                      author:'Yuval Noah Harari',         cat:'Non-Fiksi', icon:'fas fa-landmark',        bg:'linear-gradient(140deg,#111827,#1f2937)', stock:0, total:2, year:2019, img:'TIK.jpg' },
    { title:'Kamus Besar BI',               author:'Badan Bahasa',              cat:'Referensi', icon:'fas fa-book-open',       bg:'linear-gradient(140deg,#dc2626,#b91c1c)', stock:3, total:3, year:2018, img:'Kimia.jpg' },
    { title:'Fisika Kelas XI',              author:'Marthen Kanginan',          cat:'Pelajaran', icon:'fas fa-bolt',            bg:'linear-gradient(140deg,#0891b2,#0e7490)', stock:2, total:5, year:2021, img:'Fisika.jpg' },
    { title:'Atomic Habits',                author:'James Clear',               cat:'Non-Fiksi', icon:'fas fa-atom',            bg:'linear-gradient(140deg,#059669,#047857)', stock:3, total:4, year:2022, img:'Biologi-BG-KLS-XI-Cover.png' },
    { title:'Negeri 5 Menara',              author:'Ahmad Fuadi',               cat:'Fiksi',     icon:'fas fa-mosque',          bg:'linear-gradient(140deg,#16a34a,#15803d)', stock:4, total:5, year:2020, img:'Pendidikan Kewarganegaraan.jpg'},
    { title:'Python Crash Course',          author:'Eric Matthes',              cat:'Referensi', icon:'fab fa-python',          bg:'linear-gradient(140deg,#1d4ed8,#1e3a8a)', stock:2, total:2, year:2022, img:'Geografi.jpg' },
    { title:'PJOK Kelas X',                 author:'Kemendikbud',               cat:'Pelajaran', icon:'fas fa-running',         bg:'linear-gradient(140deg,#dc2626,#b91c1c)', stock:3, total:4, year:2022, img:'PJOK.png' },
    { title:'Sejarah Indonesia Kelas X',    author:'Kemendikbud',               cat:'Pelajaran', icon:'fas fa-scroll',          bg:'linear-gradient(140deg,#b45309,#92400e)', stock:4, total:5, year:2022, img:'Sejarah.jpg' },
    { title:'Koding dan Kecerdasan Artifisial ',                             author:'',                          cat:'Pelajaran', icon:'fas fa-book',            bg:'linear-gradient(140deg,#0891b2,#0e7490)', stock:0, total:0, year:2024, img:'KKA.png' },
    { title:'Kuliner',                             author:'',                          cat:'Pelajaran', icon:'fas fa-book',            bg:'linear-gradient(140deg,#7c3aed,#6d28d9)', stock:0, total:0, year:2024, img:'Kuliner.png' },
    { title:'Pendidikan Pancasila dan Kewarganegaraan ',    author:'Pusat Perbukuan',    cat:'Pelajaran', icon:'fas fa-book',            bg:'linear-gradient(140deg,#059669,#047857)', stock:5, total:5, year:2024, img:'PPKN.png' },
];

    let activeKCat = 'semua';

    function renderKoleksi() {
        const grid = document.getElementById('koleksiGrid');
        const list = activeKCat === 'semua' ? BUKU : BUKU.filter(b => b.cat === activeKCat);
        grid.innerHTML = '';
        list.forEach((b, i) => {
            const sc   = b.stock === 0 ? 'kol-out' : b.stock <= 1 ? 'kol-low' : 'kol-ok';
            const stxt = b.stock === 0 ? '‚ùå Habis' : b.stock <= 1 ? `‚ö† ${b.stock} tersisa` : `‚úì ${b.stock}/${b.total}`;
            const card = document.createElement('div');
            card.className = 'kol-card';
            card.style.animationDelay = `${i * 40}ms`;
            card.innerHTML = `
               <div class="kol-cover" style="background:${b.bg};">
      ${b.img 
        ? `<img src="${b.img}" style="width:100%;height:100%;object-fit:cover;position:absolute;inset:0;">`
        : `<i class="${b.icon}"></i>`
             }
            <span class="kol-cat-b">${b.cat}</span>
            </div>
                <div class="kol-body">
                    <div class="kol-title">${b.title}</div>
                    <div class="kol-author"><i class="fas fa-user" style="font-size:9px;"></i> ${b.author}</div>
                    <div class="kol-footer">
    <span class="${sc}">${stxt}</span>
    <span class="kol-year">${b.year}</span>
</div>
${b.isbn ? `<div style="font-size:9.5px;color:#94a3b8;margin-top:6px;"><i class="fas fa-barcode" style="font-size:9px;"></i> ${b.isbn}</div>` : ''}
                </div>`;
            card.onclick = () => window.location.href = 'Peminjaman.html';
            grid.appendChild(card);
        });
    }

    document.querySelectorAll('.ktab').forEach(tab => {
        tab.addEventListener('click', () => {
            document.querySelectorAll('.ktab').forEach(t => t.classList.remove('on'));
            tab.classList.add('on');
            activeKCat = tab.dataset.kcat;
            renderKoleksi();
        });
    });

    renderKoleksi();

    /* ‚ïê‚ïê NAV SPY ‚ïê‚ïê */
    const navLinks = document.querySelectorAll('nav ul li > a[href^="#"]');
    const spySections = [
        { id:'beranda',             href:'#beranda' },
        { id:'struktur-organisasi', href:'#struktur-organisasi' },
        { id:'Perpustakawan',       href:'#Perpustakawan' },
        { id:'tata-tertib-rules',   href:'#tata-tertib-rules' },
        { id:'visi-misi',           href:'#visi-misi' },
        { id:'koleksi',             href:'#koleksi' },
        { id:'layanan',             href:'#layanan' },
        { id:'kontak',              href:'#kontak' },
    ];
    function setActiveNav(href) {
        navLinks.forEach(l => l.classList.remove('active'));
        const t = document.querySelector(`nav ul li > a[href="${href}"]`);
        if (t) t.classList.add('active');
    }
    const spyObs = new IntersectionObserver(entries => {
        entries.forEach(e => {
            if (e.isIntersecting) {
                const m = spySections.find(s => s.id === e.target.id);
                if (m) setActiveNav(m.href);
            }
        });
    }, { threshold: 0.3, rootMargin: '-80px 0px -40% 0px' });
    spySections.forEach(s => { const el = document.getElementById(s.id); if (el) spyObs.observe(el); });

    navLinks.forEach(link => {
        link.addEventListener('click', () => {
            navLinks.forEach(l => l.classList.remove('active'));
            link.classList.add('active');
            if (window.innerWidth <= 900) toggleMenu();
        });
    });

    /* ‚ïê‚ïê REVEAL TATA TERTIB ‚ïê‚ïê */
    document.addEventListener('DOMContentLoaded', function () {
        const revealElements = document.querySelectorAll(".reveal-tata-tertib");
        const observer = new IntersectionObserver((entries, obs) => {
            entries.forEach(entry => {
                if (entry.isIntersecting) { entry.target.classList.add("active"); obs.unobserve(entry.target); }
            });
        }, { threshold: 0.2 });
        revealElements.forEach(el => observer.observe(el));
    });

    /* ‚ïê‚ïê FORM KONTAK ‚ïê‚ïê */
    const APPS_SCRIPT_URL = "https://script.google.com/macros/s/AKfycbwmAD96dk5jzn7iZcyjLlbj3UTbjwxt5sLOdBTffHvVyuNpPZ3vSP_CfdGC8lQ3Bp8u/exec";
    const secretPass = "admin123";
    let clickCount = 0, clickTimer = null;

    const feedbackForm  = document.getElementById('feedbackForm');
    const submitBtn     = document.getElementById('submitBtn');
    const btnText       = document.getElementById('btnText');
    const adminPanel    = document.getElementById('adminPanel');
    const dataContainer = document.getElementById('dataContainer');
    const notifBox      = document.getElementById('notifBox');

    function showNotif(msg, type = 'success') {
        notifBox.textContent = msg;
        notifBox.className = 'notif ' + type;
        notifBox.style.display = 'block';
        setTimeout(() => { notifBox.style.display = 'none'; }, 4000);
    }

    function launchPlane() {
        const btnRect = submitBtn.getBoundingClientRect();
        for (let i = 0; i < 8; i++) {
            setTimeout(() => {
                const smoke = document.createElement('div');
                smoke.style.cssText = `position:fixed;left:${btnRect.left+20+(i*5)}px;top:${btnRect.top}px;width:${10-i}px;height:${10-i}px;background:rgba(59,130,246,0.5);border-radius:50%;pointer-events:none;z-index:9998;animation:smokeFade 1s ease-out forwards;`;
                document.body.appendChild(smoke);
                setTimeout(() => smoke.remove(), 1000);
            }, i * 80);
        }
        const plane = document.createElement('div');
        plane.style.cssText = `position:fixed;left:${btnRect.left}px;top:${btnRect.top}px;font-size:28px;z-index:9999;pointer-events:none;animation:flyPremium 2s cubic-bezier(0.25,0.46,0.45,0.94) forwards;`;
        plane.innerHTML = '<i class="fas fa-paper-plane" style="color:#3b82f6;font-size:28px;filter:drop-shadow(0 0 10px rgba(59,130,246,0.9));"></i>';
        document.body.appendChild(plane);
        setTimeout(() => plane.remove(), 2000);
    }

    feedbackForm.onsubmit = async function (e) {
        e.preventDefault();
        submitBtn.disabled = true;
        submitBtn.classList.add('loading');
        btnText.textContent = 'Mengirim...';
        const payload = {
            name:   document.getElementById('nameInput').value,
            status: document.querySelector('input[name="status"]:checked').value,
            msg:    document.getElementById('msgInput').value,
            time:   new Date().toLocaleString('id-ID', { dateStyle: 'full', timeStyle: 'short' })
        };
        try {
            await fetch(APPS_SCRIPT_URL, {
                method: 'POST', mode: 'no-cors',
                headers: { 'Content-Type': 'application/json' },
                body: JSON.stringify(payload)
            });
            launchPlane();
            showNotif('‚úÖ Terima kasih! Saran Anda telah berhasil disimpan.', 'success');
            feedbackForm.reset();
            if (adminPanel.style.display === 'block') setTimeout(loadData, 2000);
        } catch (err) {
            showNotif('‚ùå Gagal mengirim. Periksa koneksi internet.', 'error');
        } finally {
            submitBtn.disabled = false;
            submitBtn.classList.remove('loading');
            btnText.textContent = 'Kirim Sekarang';
        }
    };

    async function loadData() {
        dataContainer.innerHTML = '<p class="loading-msg"><i class="fas fa-spinner fa-spin"></i> Memuat data...</p>';
        try {
            const res  = await fetch(APPS_SCRIPT_URL);
            const data = await res.json();
            document.getElementById('totalCount').textContent = data.length;
            if (!data.length) { dataContainer.innerHTML = '<p class="loading-msg">Belum ada masukan.</p>'; return; }
            dataContainer.innerHTML = '';
            [...data].reverse().forEach(item => {
                const div = document.createElement('div');
                div.className = 'feedback-card';
                div.innerHTML = `<strong>${escapeHtml(item.name)}</strong><span class="badge">${escapeHtml(item.status)}</span><br><br><span style="color:#334155;">${escapeHtml(item.msg)}</span><br><br><small style="color:#64748b;"><i class="fas fa-clock"></i> ${item.time}</small>`;
                dataContainer.appendChild(div);
            });
        } catch (err) {
            dataContainer.innerHTML = '<p class="loading-msg" style="color:#dc2626;">Gagal memuat data.</p>';
        }
    }

    document.getElementById('adminTrigger').onclick = function () {
        clickCount++;
        clearTimeout(clickTimer);
        clickTimer = setTimeout(() => { clickCount = 0; }, 3000);
        if (clickCount >= 5) {
            clickCount = 0; clearTimeout(clickTimer);
            const inputPass = prompt("üîê Masukkan Password Admin:");
            if (!inputPass) return;
            if (inputPass === secretPass) {
                adminPanel.style.display = 'block';
                adminPanel.scrollIntoView({ behavior: 'smooth' });
                loadData();
            } else { alert('‚ùå Akses Ditolak!'); }
        }
    };

    function escapeHtml(text) {
        const div = document.createElement('div');
        div.appendChild(document.createTextNode(text));
        return div.innerHTML;
    }

</script>
</body>
</html>
