
<!DOCTYPE html>
<html lang="id">
<head>
    <meta charset="UTF-8">
    <title>Koleksi Buku - Perpustakaan SMKN 1 Ketapang</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;600;700&display=swap" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">

    <style>
        /* ================================================
           RESET & BASE
        ================================================ */
        * { margin: 0; padding: 0; box-sizing: border-box; font-family: 'Poppins', sans-serif; }
        html { scroll-behavior: smooth; }
        body { background: #f8fafc; color: #1e293b; overflow-x: hidden; }

        /* ================================================
           HEADER & NAVIGASI
        ================================================ */
        header {
            position: fixed; top: 0; left: 0; width: 100%;
            padding: 18px 80px; display: flex; justify-content: space-between; align-items: center;
            z-index: 1000; background: rgba(15,23,42,0.95); backdrop-filter: blur(10px);
            border-bottom: 1px solid rgba(255,255,255,0.08);
        }
        .logo { display: flex; align-items: center; gap: 14px; color: #fff; text-decoration: none; }
        .logo img { width: 50px; }
        .logo span { font-size: 15px; font-weight: 600; }
        .logo small { display: block; font-size: 11px; opacity: .7; }

        .menu-toggle { display: none; font-size: 24px; color: #fff; cursor: pointer; background: none; border: none; }

        nav ul { display: flex; list-style: none; gap: 25px; }
        nav ul li a {
            color: rgba(255,255,255,0.75); text-decoration: none; font-size: 13px;
            padding: 6px 0; position: relative; transition: color 0.3s;
        }
        nav ul li a::after {
            content: ''; position: absolute; left: 0; bottom: 0;
            width: 0; height: 2px; background: #3b82f6; transition: .3s;
        }
        nav ul li a:hover { color: #fff; }
        nav ul li a:hover::after, nav ul li a.active::after { width: 100%; }
        nav ul li a.active { color: #fff; }

        /* ================================================
           HERO BANNER
        ================================================ */
        .hero-banner {
            margin-top: 75px;
            background: linear-gradient(135deg, #0f172a 0%, #1e3a8a 50%, #0f172a 100%);
            padding: 70px 80px;
            position: relative;
            overflow: hidden;
        }
        .hero-banner::before {
            content: '';
            position: absolute; top: 0; left: 0; right: 0; bottom: 0;
            background: url("data:image/svg+xml,%3Csvg width='60' height='60' viewBox='0 0 60 60' xmlns='http://www.w3.org/2000/svg'%3E%3Cg fill='none' fill-rule='evenodd'%3E%3Cg fill='%23ffffff' fill-opacity='0.03'%3E%3Cpath d='M36 34v-4h-2v4h-4v2h4v4h2v-4h4v-2h-4zm0-30V0h-2v4h-4v2h4v4h2V6h4V4h-4zM6 34v-4H4v4H0v2h4v4h2v-4h4v-2H6zM6 4V0H4v4H0v2h4v4h2V6h4V4H6z'/%3E%3C/g%3E%3C/g%3E%3C/svg%3E");
        }
        .hero-banner-content { position: relative; z-index: 1; }
        .hero-banner h1 { color: #fff; font-size: 36px; font-weight: 700; margin-bottom: 10px; }
        .hero-banner p { color: rgba(255,255,255,0.65); font-size: 15px; max-width: 500px; }
        .breadcrumb { display: flex; align-items: center; gap: 8px; margin-bottom: 20px; font-size: 13px; color: rgba(255,255,255,0.5); }
        .breadcrumb a { color: #3b82f6; text-decoration: none; }
        .breadcrumb a:hover { color: #93c5fd; }

        /* Statistik */
        .stats-row {
            display: flex; gap: 30px; margin-top: 35px; flex-wrap: wrap;
        }
        .stat-item { text-align: center; }
        .stat-item .num { font-size: 28px; font-weight: 800; color: #fff; }
        .stat-item .num span { color: #3b82f6; }
        .stat-item .label { font-size: 11px; color: rgba(255,255,255,0.5); text-transform: uppercase; letter-spacing: 1px; }

        /* ================================================
           FILTER & SEARCH BAR
        ================================================ */
        .filter-bar {
            background: #fff; padding: 25px 80px;
            box-shadow: 0 2px 15px rgba(0,0,0,0.06);
            position: sticky; top: 75px; z-index: 100;
            border-bottom: 1px solid #e2e8f0;
        }
        .filter-inner { display: flex; gap: 15px; align-items: center; flex-wrap: wrap; }

        .search-box {
            flex: 1; min-width: 250px;
            display: flex; align-items: center; gap: 10px;
            background: #f8fafc; border: 2px solid #e2e8f0;
            border-radius: 12px; padding: 10px 16px; transition: 0.3s;
        }
        .search-box:focus-within { border-color: #3b82f6; background: #fff; box-shadow: 0 0 0 4px rgba(59,130,246,0.1); }
        .search-box i { color: #94a3b8; }
        .search-box input { border: none; background: transparent; outline: none; font-size: 14px; color: #1e293b; width: 100%; font-family: 'Poppins', sans-serif; }

        .filter-btn {
            padding: 10px 18px; border: 2px solid #e2e8f0; border-radius: 10px;
            background: #fff; color: #64748b; font-size: 13px; cursor: pointer;
            transition: 0.3s; font-family: 'Poppins', sans-serif; font-weight: 500;
            white-space: nowrap;
        }
        .filter-btn:hover { border-color: #3b82f6; color: #3b82f6; background: #eff6ff; }
        .filter-btn.active { background: #1e3a8a; color: #fff; border-color: #1e3a8a; }

        .view-toggle { display: flex; gap: 5px; }
        .view-btn {
            width: 38px; height: 38px; border: 2px solid #e2e8f0;
            border-radius: 8px; background: #fff; color: #94a3b8;
            cursor: pointer; display: flex; align-items: center; justify-content: center;
            transition: 0.3s; font-size: 14px;
        }
        .view-btn.active { background: #1e3a8a; color: #fff; border-color: #1e3a8a; }

        /* ================================================
           KONTEN UTAMA
        ================================================ */
        .main-content { padding: 40px 80px 60px; }

        .section-title {
            display: flex; justify-content: space-between; align-items: center;
            margin-bottom: 25px; flex-wrap: wrap; gap: 10px;
        }
        .section-title h2 { font-size: 20px; font-weight: 700; color: #0f172a; }
        .section-title span { font-size: 13px; color: #94a3b8; }

        /* ================================================
           GRID BUKU
        ================================================ */
        .books-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(200px, 1fr));
            gap: 25px;
        }
        .books-grid.list-view {
            grid-template-columns: 1fr;
        }

        /* Kartu buku - grid view */
        .book-card {
            background: #fff; border-radius: 16px;
            box-shadow: 0 2px 15px rgba(0,0,0,0.06);
            overflow: hidden; transition: all 0.3s ease;
            border: 1px solid #f1f5f9; cursor: pointer;
        }
        .book-card:hover { transform: translateY(-6px); box-shadow: 0 15px 35px rgba(0,0,0,0.12); }

        .book-cover {
            position: relative; height: 220px; overflow: hidden;
            background: linear-gradient(135deg, #1e3a8a, #3b82f6);
            display: flex; align-items: center; justify-content: center;
        }
        .book-cover img { width: 100%; height: 100%; object-fit: cover; }
        .book-cover .no-cover { font-size: 50px; opacity: 0.3; }
        .book-cover .category-tag {
            position: absolute; top: 10px; left: 10px;
            background: rgba(0,0,0,0.6); backdrop-filter: blur(4px);
            color: #fff; font-size: 10px; padding: 3px 10px;
            border-radius: 20px; font-weight: 600; text-transform: uppercase; letter-spacing: 0.5px;
        }
        .book-cover .status-tag {
            position: absolute; top: 10px; right: 10px;
            font-size: 10px; padding: 3px 10px; border-radius: 20px; font-weight: 600;
        }
        .status-tag.tersedia { background: #dcfce7; color: #166534; }
        .status-tag.dipinjam { background: #fee2e2; color: #991b1b; }

        .book-info { padding: 15px; }
        .book-info h3 { font-size: 14px; font-weight: 700; color: #0f172a; margin-bottom: 4px; line-height: 1.4; display: -webkit-box; -webkit-line-clamp: 2; -webkit-box-orient: vertical; overflow: hidden; }
        .book-info .author { font-size: 12px; color: #64748b; margin-bottom: 10px; }
        .book-info .book-meta { display: flex; justify-content: space-between; align-items: center; }
        .book-info .tahun { font-size: 11px; color: #94a3b8; }
        .book-info .stok { font-size: 11px; font-weight: 600; color: #3b82f6; }

        /* List view */
        .books-grid.list-view .book-card {
            display: grid; grid-template-columns: 80px 1fr;
        }
        .books-grid.list-view .book-cover { height: 100%; min-height: 100px; border-radius: 0; }
        .books-grid.list-view .book-info { padding: 15px 20px; }
        .books-grid.list-view .book-info h3 { -webkit-line-clamp: 1; font-size: 15px; }

        /* Tidak ada hasil */
        .no-result {
            text-align: center; padding: 60px 20px; color: #94a3b8;
            display: none;
        }
        .no-result i { font-size: 50px; margin-bottom: 15px; }
        .no-result p { font-size: 15px; }

        /* ================================================
           MODAL DETAIL BUKU
        ================================================ */
        .modal-overlay {
            position: fixed; inset: 0;
            background: rgba(0,0,0,0.6); backdrop-filter: blur(4px);
            z-index: 2000; display: none; align-items: center; justify-content: center;
            padding: 20px;
        }
        .modal-overlay.show { display: flex; }
        .modal {
            background: #fff; border-radius: 24px; width: 100%; max-width: 550px;
            max-height: 90vh; overflow-y: auto;
            animation: modalIn 0.3s cubic-bezier(0.34, 1.56, 0.64, 1);
        }
        @keyframes modalIn { from { opacity: 0; transform: scale(0.8) translateY(30px); } to { opacity: 1; transform: scale(1) translateY(0); } }

        .modal-header {
            background: linear-gradient(135deg, #1e3a8a, #3b82f6);
            padding: 30px; display: flex; gap: 20px; align-items: center;
            border-radius: 24px 24px 0 0; position: relative;
        }
        .modal-cover {
            width: 90px; height: 120px; border-radius: 10px;
            overflow: hidden; flex-shrink: 0;
            box-shadow: 0 10px 30px rgba(0,0,0,0.3);
            background: rgba(255,255,255,0.2);
            display: flex; align-items: center; justify-content: center;
        }
        .modal-cover img { width: 100%; height: 100%; object-fit: cover; }
        .modal-cover .no-cover { font-size: 35px; color: rgba(255,255,255,0.5); }
        .modal-title { color: #fff; }
        .modal-title h2 { font-size: 18px; font-weight: 700; margin-bottom: 6px; line-height: 1.4; }
        .modal-title p { font-size: 13px; opacity: 0.75; }
        .modal-close {
            position: absolute; top: 15px; right: 15px;
            background: rgba(255,255,255,0.2); border: none; color: #fff;
            width: 32px; height: 32px; border-radius: 50%; cursor: pointer;
            font-size: 14px; display: flex; align-items: center; justify-content: center;
            transition: 0.3s;
        }
        .modal-close:hover { background: rgba(255,255,255,0.4); }

        .modal-body { padding: 25px 30px; }
        .detail-row {
            display: flex; justify-content: space-between;
            padding: 12px 0; border-bottom: 1px solid #f1f5f9; font-size: 14px;
        }
        .detail-row:last-child { border-bottom: none; }
        .detail-row .label { color: #64748b; font-weight: 500; }
        .detail-row .value { color: #0f172a; font-weight: 600; text-align: right; }
        .detail-row .value.tersedia { color: #16a34a; }
        .detail-row .value.dipinjam { color: #dc2626; }

        .modal-desc { padding: 0 30px 25px; font-size: 14px; color: #475569; line-height: 1.8; }
        .modal-desc strong { display: block; color: #0f172a; margin-bottom: 8px; font-size: 13px; text-transform: uppercase; letter-spacing: 1px; }

        /* ================================================
           FOOTER
        ================================================ */
        .page-footer {
            background: #0f172a; color: #475569;
            text-align: center; padding: 20px;
            font-size: 13px; font-family: 'Inter', sans-serif;
        }
        .page-footer a { color: #3b82f6; text-decoration: none; }

        /* Scroll to top */
        .scroll-top {
            position: fixed; bottom: 30px; right: 30px;
            width: 45px; height: 45px; background: #1e3a8a; color: white;
            border: none; border-radius: 12px; cursor: pointer; font-size: 18px;
            display: flex; align-items: center; justify-content: center;
            box-shadow: 0 5px 20px rgba(30,58,138,0.5); transition: all 0.3s ease;
            z-index: 999; opacity: 0; visibility: hidden;
        }
        .scroll-top.show { opacity: 1; visibility: visible; }
        .scroll-top:hover { background: #3b82f6; transform: translateY(-4px); }

        /* ================================================
           RESPONSIVE
        ================================================ */
        @media(max-width: 900px) {
            header { padding: 15px 22px; }
            .menu-toggle { display: block; }
            nav ul {
                position: fixed; top: 72px; right: -260px;
                background: rgba(15,23,42,0.98); flex-direction: column;
                width: 240px; padding: 25px; gap: 18px;
                border-radius: 12px 0 0 12px; transition: .4s;
            }
            nav ul.active { right: 0; }
            .hero-banner { padding: 50px 25px; }
            .hero-banner h1 { font-size: 26px; }
            .filter-bar { padding: 18px 22px; top: 72px; }
            .main-content { padding: 30px 22px 50px; }
            .books-grid { grid-template-columns: repeat(auto-fill, minmax(160px, 1fr)); gap: 15px; }
        }
    </style>
</head>
<body>

<!-- ================================================
     HEADER
================================================ -->
<header>
    <a href="index.html" class="logo">
        <img src="https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcQcofkPgciaQNYImQ_qazRA48osKpjESS6HsQ&s">
        <span>Perpustakaan<br><small>SMKN 1 Ketapang</small></span>
    </a>
    <button class="menu-toggle" onclick="toggleMenu()">‚ò∞</button>
    <nav>
        <ul id="navMenu">
            <a href="/perpussaya/index.html">Beranda</a>
            <li><a href="TugasAkhir.html#struktur-organisasi">Tentang Kami</a></li>
            <li><a href="koleksi.html" class="active">Koleksi</a></li>
            <li><a href="index.html#layanan">Layanan</a></li>
            <li><a href="index.html#kontak">Kontak</a></li>
            <li><a href="index.html#peminjaman">Peminjaman</a></li>
        </ul>
    </nav>
</header>

<!-- ================================================
     HERO BANNER
================================================ -->
<div class="hero-banner">
    <div class="hero-banner-content">
        <div class="breadcrumb">
            <a href="index.html"><i class="fas fa-home"></i> Beranda</a>
            <span>‚Ä∫</span>
            <span>Koleksi Buku</span>
        </div>
        <h1><i class="fas fa-books" style="color:#3b82f6; margin-right:12px;"></i>Koleksi Buku</h1>
        <p>Temukan ribuan koleksi buku pelajaran, fiksi, non-fiksi, dan referensi ilmiah di perpustakaan kami.</p>
        <div class="stats-row">
            <div class="stat-item">
                <div class="num" id="totalBuku">0<span>+</span></div>
                <div class="label">Total Buku</div>
            </div>
            <div class="stat-item">
                <div class="num" id="totalTersedia">0<span>+</span></div>
                <div class="label">Tersedia</div>
            </div>
            <div class="stat-item">
                <div class="num" id="totalKategori">0</div>
                <div class="label">Kategori</div>
            </div>
        </div>
    </div>
</div>

<!-- ================================================
     FILTER BAR
================================================ -->
<div class="filter-bar">
    <div class="filter-inner">
        <div class="search-box">
            <i class="fas fa-search"></i>
            <input type="text" id="searchInput" placeholder="Cari judul buku atau pengarang...">
        </div>
        <button class="filter-btn active" onclick="filterKategori('semua', this)">Semua</button>
        <button class="filter-btn" onclick="filterKategori('pelajaran', this)">üìö Pelajaran</button>
        <button class="filter-btn" onclick="filterKategori('fiksi', this)">üìñ Fiksi</button>
        <button class="filter-btn" onclick="filterKategori('nonfiksi', this)">üî¨ Non-Fiksi</button>
        <button class="filter-btn" onclick="filterKategori('referensi', this)">üìã Referensi</button>
        <div class="view-toggle">
            <button class="view-btn active" id="gridBtn" onclick="setView('grid')" title="Grid View"><i class="fas fa-th"></i></button>
            <button class="view-btn" id="listBtn" onclick="setView('list')" title="List View"><i class="fas fa-list"></i></button>
        </div>
    </div>
</div>

<!-- ================================================
     KONTEN BUKU
================================================ -->
<div class="main-content">
    <div class="section-title">
        <h2 id="sectionTitle">Semua Koleksi</h2>
        <span id="jumlahTampil">Menampilkan 0 buku</span>
    </div>
    <div class="books-grid" id="booksGrid"></div>
    <div class="no-result" id="noResult">
        <i class="fas fa-search"></i>
        <p>Buku tidak ditemukan.<br>Coba kata kunci lain.</p>
    </div>
</div>

<!-- ================================================
     MODAL DETAIL BUKU
================================================ -->
<div class="modal-overlay" id="modalOverlay" onclick="closeModal(event)">
    <div class="modal" id="modalBox">
        <div class="modal-header">
            <div class="modal-cover" id="modalCover"></div>
            <div class="modal-title">
                <h2 id="modalJudul"></h2>
                <p id="modalPengarang"></p>
            </div>
            <button class="modal-close" onclick="tutupModal()"><i class="fas fa-times"></i></button>
        </div>
        <div class="modal-body" id="modalBody"></div>
        <div class="modal-desc" id="modalDesc"></div>
    </div>
</div>

<!-- ================================================
     FOOTER
================================================ -->
<div class="page-footer">
    <p>¬© 2025 <strong style="color:#fff;">Perpustakaan SMKN 1 Ketapang</strong> ¬∑ <a href="index.html">Kembali ke Beranda</a></p>
</div>

<!-- Scroll to Top -->
<button class="scroll-top" id="scrollTop" onclick="window.scrollTo({top:0,behavior:'smooth'})">
    <i class="fas fa-arrow-up"></i>
</button>

<script>
    /* ================================================
       DATA BUKU
       Tempat nambah buku pkai format yg sama
    ================================================ */
    const dataBuku = [
        {
            id: 1, judul: "Matematika Kelas X",
            pengarang: "Kemendikbud", tahun: 2022,
            kategori: "pelajaran", stok: 5, tersedia: 3,
            cover: "", warna: "linear-gradient(135deg,#1e3a8a,#3b82f6)",
            deskripsi: "Buku pelajaran Matematika untuk kelas X SMK/SMA sesuai kurikulum Merdeka Belajar.",
            isbn: "978-602-427-001-1", penerbit: "Kemendikbud RI"
        },
        {
            id: 2, judul: "Bahasa Indonesia Kelas XI",
            pengarang: "Kemendikbud", tahun: 2022,
            kategori: "pelajaran", stok: 4, tersedia: 4,
            cover: "", warna: "linear-gradient(135deg,#166534,#16a34a)",
            deskripsi: "Buku pelajaran Bahasa Indonesia untuk kelas XI SMK sesuai kurikulum Merdeka.",
            isbn: "978-602-427-002-2", penerbit: "Kemendikbud RI"
        },
        {
            id: 3, judul: "Bumi",
            pengarang: "Tere Liye", tahun: 2021,
            kategori: "fiksi", stok: 3, tersedia: 1,
            cover: "", warna: "linear-gradient(135deg,#7c3aed,#a855f7)",
            deskripsi: "Novel petualangan karya Tere Liye yang mengisahkan Raib dan dunia paralel yang menakjubkan.",
            isbn: "978-602-03-1253-6", penerbit: "Gramedia Pustaka Utama"
        },
        {
            id: 4, judul: "Laskar Pelangi",
            pengarang: "Andrea Hirata", tahun: 2020,
            kategori: "fiksi", stok: 6, tersedia: 5,
            cover: "", warna: "linear-gradient(135deg,#b45309,#f59e0b)",
            deskripsi: "Novel inspiratif tentang perjuangan 10 anak Belitung dalam meraih mimpi dan pendidikan.",
            isbn: "978-979-1227-00-1", penerbit: "Bentang Pustaka"
        },
        {
            id: 5, judul: "Sapiens: Riwayat Singkat Umat Manusia",
            pengarang: "Yuval Noah Harari", tahun: 2019,
            kategori: "nonfiksi", stok: 2, tersedia: 0,
            cover: "", warna: "linear-gradient(135deg,#0f172a,#334155)",
            deskripsi: "Buku populer yang membahas sejarah umat manusia dari zaman purba hingga era modern.",
            isbn: "978-602-385-992-2", penerbit: "KPG (Kepustakaan Populer Gramedia)"
        },
        {
            id: 6, judul: "Kamus Besar Bahasa Indonesia",
            pengarang: "Badan Pengembangan Bahasa", tahun: 2018,
            kategori: "referensi", stok: 3, tersedia: 3,
            cover: "", warna: "linear-gradient(135deg,#9f1239,#e11d48)",
            deskripsi: "Kamus resmi Bahasa Indonesia edisi kelima yang memuat lebih dari 90.000 lema.",
            isbn: "978-979-069-506-8", penerbit: "Balai Pustaka"
        },
        {
            id: 7, judul: "Fisika untuk SMA/SMK Kelas XI",
            pengarang: "Marthen Kanginan", tahun: 2021,
            kategori: "pelajaran", stok: 5, tersedia: 2,
            cover: "", warna: "linear-gradient(135deg,#0369a1,#0ea5e9)",
            deskripsi: "Buku fisika lengkap dengan soal latihan dan penjelasan konsep yang mudah dipahami.",
            isbn: "978-602-04-1234-5", penerbit: "Erlangga"
        },
        {
            id: 8, judul: "Atomic Habits",
            pengarang: "James Clear", tahun: 2022,
            kategori: "nonfiksi", stok: 4, tersedia: 3,
            cover: "", warna: "linear-gradient(135deg,#064e3b,#059669)",
            deskripsi: "Panduan praktis membangun kebiasaan baik dan menghilangkan kebiasaan buruk secara konsisten.",
            isbn: "978-602-06-1234-0", penerbit: "Gramedia Pustaka Utama"
        },
        {
            id: 9, judul: "Kimia Dasar",
            pengarang: "Raymond Chang", tahun: 2020,
            kategori: "pelajaran", stok: 3, tersedia: 1,
            cover: "", warna: "linear-gradient(135deg,#7e22ce,#9333ea)",
            deskripsi: "Buku kimia dasar yang komprehensif untuk siswa SMK dan perguruan tinggi.",
            isbn: "978-979-788-123-4", penerbit: "McGraw-Hill"
        },
        {
            id: 10, judul: "Dilan: Dia adalah Dilanku Tahun 1990",
            pengarang: "Pidi Baiq", tahun: 2020,
            kategori: "fiksi", stok: 5, tersedia: 4,
            cover: "", warna: "linear-gradient(135deg,#be123c,#f43f5e)",
            deskripsi: "Novel romantis yang mengisahkan cinta remaja di kota Bandung pada era 1990-an.",
            isbn: "978-602-7870-44-2", penerbit: "Pastel Books"
        },
        {
            id: 11, judul: "Ensiklopedia Ilmu Pengetahuan",
            pengarang: "Tim Editorial", tahun: 2019,
            kategori: "referensi", stok: 2, tersedia: 2,
            cover: "", warna: "linear-gradient(135deg,#92400e,#d97706)",
            deskripsi: "Ensiklopedia lengkap yang membahas berbagai bidang ilmu pengetahuan untuk pelajar.",
            isbn: "978-979-099-001-2", penerbit: "Erlangga"
        },
        {
            id: 12, judul: "Rich Dad Poor Dad",
            pengarang: "Robert T. Kiyosaki", tahun: 2021,
            kategori: "nonfiksi", stok: 3, tersedia: 2,
            cover: "", warna: "linear-gradient(135deg,#1e3a8a,#1d4ed8)",
            deskripsi: "Buku keuangan klasik yang mengajarkan pola pikir finansial dan investasi sejak dini.",
            isbn: "978-979-22-7215-5", penerbit: "Gramedia Pustaka Utama"
        },
    ];

    /* ================================================
       VARIABEL GLOBAL
    ================================================ */
    let kategoriAktif = 'semua';
    let viewAktif = 'grid';

    /* ================================================
       RENDER BUKU
    ================================================ */
    function renderBuku(data) {
        const grid = document.getElementById('booksGrid');
        const noResult = document.getElementById('noResult');
        const jumlahTampil = document.getElementById('jumlahTampil');

        grid.innerHTML = '';

        if (data.length === 0) {
            noResult.style.display = 'block';
            jumlahTampil.textContent = '0 buku ditemukan';
            return;
        }

        noResult.style.display = 'none';
        jumlahTampil.textContent = `Menampilkan ${data.length} buku`;

        data.forEach(buku => {
            const card = document.createElement('div');
            card.className = 'book-card';
            card.onclick = () => bukaModal(buku);

            const statusClass = buku.tersedia > 0 ? 'tersedia' : 'dipinjam';
            const statusText = buku.tersedia > 0 ? 'Tersedia' : 'Dipinjam';

            card.innerHTML = `
                <div class="book-cover" style="background:${buku.warna}">
                    ${buku.cover
                        ? `<img src="${buku.cover}" alt="${buku.judul}">`
                        : `<i class="fas fa-book no-cover"></i>`}
                    <span class="category-tag">${buku.kategori}</span>
                    <span class="status-tag ${statusClass}">${statusText}</span>
                </div>
                <div class="book-info">
                    <h3>${buku.judul}</h3>
                    <p class="author"><i class="fas fa-user" style="font-size:10px;"></i> ${buku.pengarang}</p>
                    <div class="book-meta">
                        <span class="tahun"><i class="fas fa-calendar" style="font-size:10px;"></i> ${buku.tahun}</span>
                        <span class="stok">${buku.tersedia}/${buku.stok} stok</span>
                    </div>
                </div>
            `;
            grid.appendChild(card);
        });
    }

    /* ================================================
       FILTER KATEGORI
    ================================================ */
    function filterKategori(kat, btn) {
        kategoriAktif = kat;
        document.querySelectorAll('.filter-btn').forEach(b => b.classList.remove('active'));
        btn.classList.add('active');

        const keyword = document.getElementById('searchInput').value.toLowerCase();
        const filtered = dataBuku.filter(b => {
            const cocokKat = kat === 'semua' || b.kategori === kat;
            const cocokSearch = b.judul.toLowerCase().includes(keyword) || b.pengarang.toLowerCase().includes(keyword);
            return cocokKat && cocokSearch;
        });

        const namaKat = { semua: 'Semua Koleksi', pelajaran: 'Buku Pelajaran', fiksi: 'Buku Fiksi', nonfiksi: 'Non-Fiksi', referensi: 'Referensi' };
        document.getElementById('sectionTitle').textContent = namaKat[kat] || 'Koleksi';
        renderBuku(filtered);
    }

    /* ================================================
       TOGGLE VIEW GRID / LIST
    ================================================ */
    function setView(mode) {
        viewAktif = mode;
        const grid = document.getElementById('booksGrid');
        const gridBtn = document.getElementById('gridBtn');
        const listBtn = document.getElementById('listBtn');

        if (mode === 'list') {
            grid.classList.add('list-view');
            listBtn.classList.add('active');
            gridBtn.classList.remove('active');
        } else {
            grid.classList.remove('list-view');
            gridBtn.classList.add('active');
            listBtn.classList.remove('active');
        }
    }

    /* ================================================
       MODAL DETAIL BUKU
    ================================================ */
    function bukaModal(buku) {
        const statusClass = buku.tersedia > 0 ? 'tersedia' : 'dipinjam';
        const statusText  = buku.tersedia > 0 ? `‚úÖ Tersedia (${buku.tersedia} dari ${buku.stok})` : '‚ùå Sedang Dipinjam';

        document.getElementById('modalJudul').textContent = buku.judul;
        document.getElementById('modalPengarang').textContent = buku.pengarang;
        document.getElementById('modalCover').innerHTML = buku.cover
            ? `<img src="${buku.cover}" alt="${buku.judul}">`
            : `<i class="fas fa-book no-cover"></i>`;
        document.getElementById('modalCover').closest('.modal-header').style.background = buku.warna;

        document.getElementById('modalBody').innerHTML = `
            <div class="detail-row"><span class="label">Pengarang</span><span class="value">${buku.pengarang}</span></div>
            <div class="detail-row"><span class="label">Penerbit</span><span class="value">${buku.penerbit}</span></div>
            <div class="detail-row"><span class="label">Tahun Terbit</span><span class="value">${buku.tahun}</span></div>
            <div class="detail-row"><span class="label">Kategori</span><span class="value">${buku.kategori}</span></div>
            <div class="detail-row"><span class="label">ISBN</span><span class="value">${buku.isbn}</span></div>
            <div class="detail-row"><span class="label">Status</span><span class="value ${statusClass}">${statusText}</span></div>
        `;

        document.getElementById('modalDesc').innerHTML = `<strong>Deskripsi</strong>${buku.deskripsi}`;
        document.getElementById('modalOverlay').classList.add('show');
        document.body.style.overflow = 'hidden';
    }

    function tutupModal() {
        document.getElementById('modalOverlay').classList.remove('show');
        document.body.style.overflow = '';
    }

    function closeModal(e) {
        if (e.target === document.getElementById('modalOverlay')) tutupModal();
    }

    /* ================================================
       SEARCH
    ================================================ */
    document.getElementById('searchInput').addEventListener('input', function () {
        const keyword = this.value.toLowerCase();
        const filtered = dataBuku.filter(b => {
            const cocokKat = kategoriAktif === 'semua' || b.kategori === kategoriAktif;
            const cocokSearch = b.judul.toLowerCase().includes(keyword) || b.pengarang.toLowerCase().includes(keyword);
            return cocokKat && cocokSearch;
        });
        renderBuku(filtered);
    });

    /* ================================================
       STATISTIK ANIMASI COUNTER
    ================================================ */
    function animateCounter(id, target) {
        let count = 0;
        const step = Math.ceil(target / 40);
        const timer = setInterval(() => {
            count += step;
            if (count >= target) { count = target; clearInterval(timer); }
            document.getElementById(id).innerHTML = count + (id !== 'totalKategori' ? '<span>+</span>' : '');
        }, 40);
    }

    /* ================================================
       TOGGLE MENU MOBILE
    ================================================ */
    function toggleMenu() {
        document.getElementById('navMenu').classList.toggle('active');
    }

    /* ================================================
       SCROLL TO TOP
    ================================================ */
    window.addEventListener('scroll', () => {
        document.getElementById('scrollTop').classList.toggle('show', window.scrollY > 300);
    });

    /* ================================================
       INISIALISASI
    ================================================ */
    document.addEventListener('DOMContentLoaded', () => {
        renderBuku(dataBuku);

        // Hitung statistik
        const totalBuku = dataBuku.reduce((a, b) => a + b.stok, 0);
        const totalTersedia = dataBuku.reduce((a, b) => a + b.tersedia, 0);
        const totalKategori = [...new Set(dataBuku.map(b => b.kategori))].length;

        animateCounter('totalBuku', totalBuku);
        animateCounter('totalTersedia', totalTersedia);
        animateCounter('totalKategori', totalKategori);
    });
</script>
</body>
</html>
